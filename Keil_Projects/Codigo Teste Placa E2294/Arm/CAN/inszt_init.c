/*
C TESTBED VERSION  : 9.5.1
FILE UNDER TEST  : "C:\_WorkSpace\Keil_Projects\Codigo Teste Placa E2294\Arm\CAN\init.c"
DATE OF ANALYSIS : Mon Mar 21 17:00:30 2016
*/
 
#include <LPC22xx.H>
                                           /* LPC21xx definitions */
//#include <irq.h>
#include <global.h>
#undef QQQdialect 
#undef QQQ146
#undef QQQ148
#undef QQQbndchk
#undef QQQ294
#undef QQQEMBEDDEDICE
 /* Note: for BITMAP execution histories QQQthreaded is not defined */
#undef QQQthreaded 
#undef QQQdo178b
#undef QQQfixbra
#define QQQswitch3
#undef QQQternary
#undef QQQswitch
#undef QQQmacrof
#undef QQQMULTIPROCESSEXH
#undef QQFLUSH
#undef QQNEWBS
#define qqqMaxBranchDepth     20
#undef QQQstructbitmap
 static int zzfileid =     45;
#undef QQQALGONE
#undef QQQVCLFLG
#undef QQQFORKFL
#undef QQQIADDRF
#undef QQQRTI
#undef QQQPERFA
#undef QQQADRMOD
#undef QQQDCAPFL
#undef QQQTEMPLATEONLY
#define QQQNOATEXIT
#undef QQQUPLOADATEND
#define QQQNOSTDIO
#undef QQQASHLINGVITRA
#define QQQBITMAP 
#undef QQQBITMAPMCDC 
#undef QQQTIC2XSERIALIO
#undef QQQTIC2XFLASH
#undef QQQCOMPRESSED_EXH
#undef QQQMAINFL
#define QQQSINGLEFILE
#define QQQFILEID
#define QQQseparate
extern int QQQindicator;
static int QQQfirstmcdc=1;
#define init_45zzopen                                                                                         zzopen
 extern int init_45zzopen                                                                                       ;
#define init_45zqqzqz1                                                                                        zqqzqz1
#define QQQLDRA_PORT 
#ifndef QQQLDRA_PORT                                                                                                                                                                                                                                                
#define FILEPOINT FILE * f,                                                                                                                                                                                                                                         
#if !defined(QQQTEMPLATEONLY) && !defined(FILE) && !defined(QQQNOSTDIO) && !defined(QQQLDRA_PORT)                                                                                                                                                                   
#include <stdio.h>                                                                                                                                                                                                                                                  
    /* ----------------------------------------------------------------------* 100 *                                                                                                                                                                                
     * If stdio.h is not available then insert:                                                                                                                                                                                                                     
     *      typedef int * FILE;                                                                                                                                                                                                                                     
     * -----------------------------------------------------------------------------                                                                                                                                                                                
     */                                                                                                                                                                                                                                                             
#endif  /* !defined(QQQTEMPLATEONLY) && !defined(FILE) && !defined(QQQNOSTDIO) && !defined(QQQLDRA_PORT) */                                                                                                                                                         
#else                                                                                                                                                                                                                                                               
#define FILEPOINT                                                                                                                                                                                                                                                   
#ifdef __cplusplus                                                                                                                                                                                                                                                  
extern "C" {                                                                                                                                                                                                                                                        
#endif                                                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                                    
/* Define the maximum number of instrumented files */                                                                                                                                                                                                               
/* Each file requires 6 bytes of RAM.              */                                                                                                                                                                                                               
/* Will be used to set QQQnumfil in cinstr.dat     */                                                                                                                                                                                                               
#define LDRA_MAX_INSTRUMENTED_FILES 40                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                                    
extern char ldra_buffer[];                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                                    
extern int ldra_open (void);                                                                                                                                                                                                                                        
extern void ldra_close (void);                                                                                                                                                                                                                                      
                                                                                                                                                                                                                                                                    
/* initialise the port */                                                                                                                                                                                                                                           
extern void ldra_port_init(void);                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                                    
/* write a zero terminated string to the port */                                                                                                                                                                                                                    
extern void ldra_port_write(const char* pMsg);                                                                                                                                                                                                                      
                                                                                                                                                                                                                                                                    
/* Check to see if the port has already been configured */                                                                                                                                                                                                          
/* Ensures that the port is not initialised twice       */                                                                                                                                                                                                          
extern int ldra_port_is_configured (void);                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                                    
/* Functions used to avoid including stdio */                                                                                                                                                                                                                       
extern char* ldra_sprintf1 (char* str, const char* format, const int);                                                                                                                                                                                              
extern char* ldra_sprintf2 (char* str, const char* format, const int, const int);                                                                                                                                                                                   
extern char* ldra_sprintf3 (char* str, const char* format, const int, const int, const int);                                                                                                                                                                        
extern char* ldra_sprintf4 (char* str, const char* format, const int, const int, const int, const int);                                                                                                                                                             
                                                                                                                                                                                                                                                                    
/* Add include for ITM_SendChar */                                                                                                                                                                                                                                  
#ifdef USE_LPC17XX                                                                                                                                                                                                                                                  
#include "lpc17xx.h"                                                                                                                                                                                                                                                
#endif                                                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                                    
#ifdef STM32F40_41xxx                                                                                                                                                                                                                                               
#include "stm32f4xx.h"                                                                                                                                                                                                                                              
#endif                                                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                                    
#ifdef STM32F429xx                                                                                                                                                                                                                                                  
#include "stm32f4xx.h"                                                                                                                                                                                                                                              
#endif                                                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                                    
#ifdef __cplusplus                                                                                                                                                                                                                                                  
}                                                                                                                                                                                                                                                                   
#endif                                                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                                    
/* Avoid adding all this code for both black and white box */                                                                                                                                                                                                       
#ifndef QQQ_SHLAYOUT                                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                                    
#ifdef QQQMAINFL                                                                                                                                                                                                                                                    
#define LDRA_MSG_SIZE 64                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                                    
char ldra_buffer[LDRA_MSG_SIZE];                  /* Buffer used for each write to the port */                                                                                                                                                                      
static int ldra_fileid=0;                         /* Host File id */                                                                                                                                                                                                
static volatile int Configured=0;                 /* Used to avoid re-initialising */                                                                                                                                                                               
                                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                                    
/* Simple delay */                                                                                                                                                                                                                                                  
static void ldra_delay(const int aDelay) {                                                                                                                                                                                                                          
  int loop;                                                                                                                                                                                                                                                         
  for ( loop=0; loop < aDelay; loop++ ) {                                                                                                                                                                                                                           
    if ( !ldra_port_is_configured() ) {                                                                                                                                                                                                                             
      break;                                                                                                                                                                                                                                                        
    }                                                                                                                                                                                                                                                               
  }                                                                                                                                                                                                                                                                 
}                                                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                                    
/* write a zero terminated string */                                                                                                                                                                                                                                
void ldra_port_write(const char* pMsg) {                                                                                                                                                                                                                            
  if ( pMsg != 0 ) {                                                                                                                                                                                                                                                
    /* Output characters in string until 0 terminator */                                                                                                                                                                                                            
    while ( *pMsg != 0 ) {                                                                                                                                                                                                                                          
      /* write next character */                                                                                                                                                                                                                                    
      /* make sure that ITM_SendChar does not get instrumented! */                                                                                                                                                                                                  
      (void)ITM_SendChar (*pMsg);                                                                                                                                                                                                                                   
      /* allow time for the ITM port to capture the data */                                                                                                                                                                                                         
      ldra_delay(5000);                                                                                                                                                                                                                                             
      /* Point to next character */                                                                                                                                                                                                                                 
      pMsg++;                                                                                                                                                                                                                                                       
    }                                                                                                                                                                                                                                                               
  }                                                                                                                                                                                                                                                                 
}                                                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                                    
/*                                                                                                                                                                                                                                                                  
 * Perform any initialisation that is necessary                                                                                                                                                                                                                     
 * A breakpoint will get set on this function                                                                                                                                                                                                                       
 * to create a file                                                                                                                                                                                                                                                 
 */                                                                                                                                                                                                                                                                 
void ldra_port_init (void) {                                                                                                                                                                                                                                        
  /* Save info indicating that the init is done */                                                                                                                                                                                                                  
  Configured = 1;                                                                                                                                                                                                                                                   
}                                                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                                    
/*                                                                                                                                                                                                                                                                  
 * Check to see if the initialisation has already been done                                                                                                                                                                                                         
 */                                                                                                                                                                                                                                                                 
int ldra_port_is_configured (void) {                                                                                                                                                                                                                                
  return Configured;                                                                                                                                                                                                                                                
}                                                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                                    
/*                                                                                                                                                                                                                                                                  
 * Routine to convert an integer to a decimal string                                                                                                                                                                                                                
 */                                                                                                                                                                                                                                                                 
static void ldra_int_to_dec (char* str, int val) {                                                                                                                                                                                                                  
  /* handle negative numbers. */                                                                                                                                                                                                                                    
  int neg = (val < 0);                                                                                                                                                                                                                                              
  if (neg) {                                                                                                                                                                                                                                                        
    val = -val;                                                                                                                                                                                                                                                     
  }                                                                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                                    
  /* add a decimal digit to the output string. */                                                                                                                                                                                                                   
  do {                                                                                                                                                                                                                                                              
    *(--str) = (val % 10) + '0';                                                                                                                                                                                                                                    
    val /= 10;                                                                                                                                                                                                                                                      
  } while (val);                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                                    
  if (neg) {                                                                                                                                                                                                                                                        
    *(--str) = '-';                                                                                                                                                                                                                                                 
  }                                                                                                                                                                                                                                                                 
}                                                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                                    
/*                                                                                                                                                                                                                                                                  
 * Routine to print a formatted string -> when sprintf is not available.                                                                                                                                                                                            
 */                                                                                                                                                                                                                                                                 
static void ldra_sprintf (char* str, const char* format, int cnt, const int d1, const int d2, const int d3, const int d4) {                                                                                                                                         
  int width = 0;                                                                                                                                                                                                                                                    
  int d[4];                                                                                                                                                                                                                                                         
  int max = cnt;                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                                    
  d[0] = d1;                                                                                                                                                                                                                                                        
  d[1] = d2;                                                                                                                                                                                                                                                        
  d[2] = d3;                                                                                                                                                                                                                                                        
  d[3] = d4;                                                                                                                                                                                                                                                        
  if (format != 0) {                                                                                                                                                                                                                                                
    do {                                                                                                                                                                                                                                                            
      /* expected format (in regex notation) %[1-9][0-9]?[xdh] */                                                                                                                                                                                                   
      /* else print char */                                                                                                                                                                                                                                         
      if ((*format == '%') && cnt) {                                                                                                                                                                                                                                
        ++format;                                                                                                                                                                                                                                                   
        /* The next char must be in 1..9 */                                                                                                                                                                                                                         
        if ((*format >= '1') && (*format <= '9')) {                                                                                                                                                                                                                 
          width = *format - '0';                                                                                                                                                                                                                                    
          ++format;                                                                                                                                                                                                                                                 
          /* The width might have two chars for a total range of 1-99 */                                                                                                                                                                                            
          if ((*format >= '0') && (*format <= '9')) {                                                                                                                                                                                                               
            width *= 10;                                                                                                                                                                                                                                            
            width += *format - '0';                                                                                                                                                                                                                                 
            ++format;                                                                                                                                                                                                                                               
          }                                                                                                                                                                                                                                                         
        } else {                                                                                                                                                                                                                                                    
	        width = 1;                                                                                                                                                                                                                                                 
        }                                                                                                                                                                                                                                                           
        /* Advance the pointer beyond the number field. */                                                                                                                                                                                                          
        while (width!=0) {                                                                                                                                                                                                                                          
          *str++ = ' ';                                                                                                                                                                                                                                             
          --width;                                                                                                                                                                                                                                                  
        }                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                                    
        if (*format == 'd') {                                                                                                                                                                                                                                       
          ++format;                                                                                                                                                                                                                                                 
          /* printf("\n\n-***-123456789012345\nstr:\"%s\"\nfmt:\"%s\"\n---\n", str, format); */                                                                                                                                                                     
          ldra_int_to_dec(str, d[max-cnt]);                                                                                                                                                                                                                         
          --cnt;                                                                                                                                                                                                                                                    
        } else {                                                                                                                                                                                                                                                    
          /* missing the number type. */                                                                                                                                                                                                                            
          *str++ = ' ';                                                                                                                                                                                                                                             
          *str++ = 'E';                                                                                                                                                                                                                                             
          *str++ = 'r';                                                                                                                                                                                                                                             
          *str++ = 'r';                                                                                                                                                                                                                                             
          *str++ = '2';                                                                                                                                                                                                                                             
          *str++ = ' ';                                                                                                                                                                                                                                             
        }                                                                                                                                                                                                                                                           
      } else {                                                                                                                                                                                                                                                      
        /* if not '%' the token for a number format. */                                                                                                                                                                                                             
        /* output the current character. */                                                                                                                                                                                                                         
        *str = *format;                                                                                                                                                                                                                                             
        ++str;                                                                                                                                                                                                                                                      
        ++format;                                                                                                                                                                                                                                                   
      }                                                                                                                                                                                                                                                             
    } while ((*format != '\0'));                                                                                                                                                                                                                                    
  }                                                                                                                                                                                                                                                                 
  *str = '\0';                                                                                                                                                                                                                                                      
}                                                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                                    
/*                                                                                                                                                                                                                                                                  
 * Routine to convert one argument to a formatted string                                                                                                                                                                                                            
 */                                                                                                                                                                                                                                                                 
char* ldra_sprintf1 (char* str, const char* format, const int d1) {                                                                                                                                                                                                 
  ldra_sprintf(str, format, 1, d1, d1, d1, d1);                                                                                                                                                                                                                     
  return str;                                                                                                                                                                                                                                                       
}                                                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                                    
/*                                                                                                                                                                                                                                                                  
 * Routine to convert two arguments to a formatted string                                                                                                                                                                                                           
 */                                                                                                                                                                                                                                                                 
char* ldra_sprintf2 (char* str, const char* format, const int d1, const int d2) {                                                                                                                                                                                   
  ldra_sprintf(str, format, 2, d1, d2, d2, d2);                                                                                                                                                                                                                     
  return str;                                                                                                                                                                                                                                                       
}                                                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                                    
/*                                                                                                                                                                                                                                                                  
 * Routine to convert three arguments to a formatted string                                                                                                                                                                                                         
 */                                                                                                                                                                                                                                                                 
char* ldra_sprintf3 (char* str, const char* format, const int d1, const int d2, const int d3) {                                                                                                                                                                     
  ldra_sprintf(str, format, 3, d1, d2, d3, d3);                                                                                                                                                                                                                     
  return str;                                                                                                                                                                                                                                                       
}                                                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                                    
/*                                                                                                                                                                                                                                                                  
 * Routine to convert four arguments to a formatted string                                                                                                                                                                                                          
 */                                                                                                                                                                                                                                                                 
char* ldra_sprintf4 (char* str, const char* format, const int d1, const int d2, const int d3, const int d4) {                                                                                                                                                       
  ldra_sprintf(str, format, 4, d1, d2, d3, d4);                                                                                                                                                                                                                     
  return str;                                                                                                                                                                                                                                                       
}                                                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                                    
/*                                                                                                                                                                                                                                                                  
 * Used to set a breakpoint at the end of execution                                                                                                                                                                                                                 
 */                                                                                                                                                                                                                                                                 
void ldra_exit (void) {                                                                                                                                                                                                                                             
  /* Stop the function from being optimised out */                                                                                                                                                                                                                  
  if ( ldra_port_is_configured() != 0 ) {                                                                                                                                                                                                                           
    Configured = 0;                                                                                                                                                                                                                                                 
  }                                                                                                                                                                                                                                                                 
}                                                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                                    
/* Open a file on the host */                                                                                                                                                                                                                                       
int ldra_open (void) {                                                                                                                                                                                                                                              
  ldra_fileid = 1;                                                                                                                                                                                                                                                  
  /*                                                                                                                                                                                                                                                                
   * Protect against the case with just a single main and in white box                                                                                                                                                                                              
   * where the port can get initialised twice                                                                                                                                                                                                                       
   */                                                                                                                                                                                                                                                               
  if ( ldra_port_is_configured() == 0 ) {                                                                                                                                                                                                                           
    ldra_port_init();                   /* Initialise the port */                                                                                                                                                                                                   
  }                                                                                                                                                                                                                                                                 
  /* Need to stop ldra_close from being optimised out */                                                                                                                                                                                                            
  if ( ldra_port_is_configured() == 0 ) {                                                                                                                                                                                                                           
    ldra_close();                                                                                                                                                                                                                                                   
  }                                                                                                                                                                                                                                                                 
  return ldra_fileid;                                                                                                                                                                                                                                               
}                                                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                                    
/* Close the file on the host */                                                                                                                                                                                                                                    
void ldra_close (void) {                                                                                                                                                                                                                                            
  /* Stop the function from being optimised out */                                                                                                                                                                                                                  
  if ( ldra_port_is_configured() != 0 ) {                                                                                                                                                                                                                           
    ldra_exit();                                                                                                                                                                                                                                                    
  }                                                                                                                                                                                                                                                                 
}                                                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                                    
#endif /* QQQMAINFL */                                                                                                                                                                                                                                              
#endif /* QQQ_SHLAYOUT */                                                                                                                                                                                                                                           
#endif /* QQQLDRA_PORT */                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                                    
#ifdef QQQ_KEEPCOMMENTS                                                                                                                                                                                                                                             
  /* -----------------------------------------------------------------------* 101 *                                                                                                                                                                                 
  *            Special settings for systems lacking standard functions.                                                                                                                                                                                             
  * To include code for fprintf define ldra_fprintf                                                                                                                                                                                                                 
  * To include code for sscanf  define ldra_sscanf                                                                                                                                                                                                                  
  * -----------------------------------------------------------------------------                                                                                                                                                                                   
  */                                                                                                                                                                                                                                                                
#endif  /* QQQ_KEEPCOMMENTS */                                                                                                                                                                                                                                      
#if !defined(QQQSUPPRESS_UNDEF)                                                                                                                                                                                                                                     
#undef ldra_fprintf                                                                                                                                                                                                                                                 
#undef ldra_sscanf                                                                                                                                                                                                                                                  
#endif  /* !defined(QQQSUPPRESS_UNDEF) */                                                                                                                                                                                                                           
  /*  #define ldra_fprintf */                                                                                                                                                                                                                                       
  /*  #define ldra_sscanf */                                                                                                                                                                                                                                        
#undef QQQHITMAP_STORAGE                                                                                                                                                                                                                                            
#undef qqnull_params                                                                                                                                                                                                                                                
#define qqnull_params void                                                                                                                                                                                                                                          
#define QQQ_PROTOTYPE_DEF                                                                                                                                                                                                                                           
  /* Conventional Instrumentation */                                                                                                                                                                                                                                
#undef QQ_ANSI_PROTOTYPE                                                                                                                                                                                                                                            
#ifdef __STDC__                                                                                                                                                                                                                                                     
#define QQ_ANSI_PROTOTYPE 1                                                                                                                                                                                                                                         
#else                                                                                                                                                                                                                                                               
#ifdef VAXC                                                                                                                                                                                                                                                         
#define QQ_ANSI_PROTOTYPE 1                                                                                                                                                                                                                                         
#endif  /* VAXC */                                                                                                                                                                                                                                                  
#endif  /* __STDC__ */                                                                                                                                                                                                                                              
#define QQQnumfil LDRA_MAX_INSTRUMENTED_FILES                                                                                                                                                                                                                       
  static unsigned char qqqzzglobflag = 0;                                                                                                                                                                                                                           
  static void qqoutput(FILEPOINT char * s,int i);                                                                                                                                                                                                                   
  static void qqoutput2(FILEPOINT char * s,int i, int j);                                                                                                                                                                                                           
  static void qqoutput3(FILEPOINT char * s,int i,int j,int k);                                                                                                                                                                                                      
  static void qqoutput4(FILEPOINT char * s,int i,int j,int k,int l);                                                                                                                                                                                                
  static void qqoutput0(FILEPOINT char * s);                                                                                                                                                                                                                        
  static int swzzqqzz (int qqqi, int onoff);                                                                                                                                                                                                                        
  extern int init_45zqqzqz(qqnull_params);                                                                                                                                                                                                                          
  extern int init_45zqqzqz1(qqnull_params);                                                                                                                                                                                                                         
  static int init_45zzqqzz (int qqqi);                                                                                                                                                                                                                              
  static int init_45zqendz (int qqqi);                                                                                                                                                                                                                              
  static int init_45zqzqzq (int qqqi);                                                                                                                                                                                                                              
  static int init_45zzzqtz (int qqqa, int qqqb);                                                                                                                                                                                                                    
  static int init_45zzzqfz (int qqqa, int qqqb);                                                                                                                                                                                                                    
  void qqqupload (qqnull_params);                                                                                                                                                                                                                                   
  void upload_execution_history(qqnull_params);                                                                                                                                                                                                                     
/* ------------------------------ END OF TESTBED PROTOTYPES -------------------------------- */                                                                                                                                                                     
#define CAN_LBK 0x01000000
#define CAN_RS 0x00800000
//#define CAN_LBK 0x02000000     //Usar esse para hardware da TLM
//#define CAN_RS 0x01000000      //Usar esse para hardware da TLM
/******************************************************************************/
/* Timer Counter 0 interrupt service function */
/* executes each 1ms */
/******************************************************************************/
 
__irq void
  timer0 ( void )
  {
   int iinit_45zzqqzz                                                                                       
 = init_45zzqqzz                                                                                        (       1 ) ; /* 37 */
    volatile static int
      t10ms = 0 ,
      t50ms = 0 ,
      t100ms = 0 ,
      t1s = 0 ;
    flaggeral |= 1 ;    //Seta a cada 1ms
        //flaggeral |= 2;
    t10ms ++ ;
    if
      (
      t10ms == 10
      )
 {
    init_45zzqqzz                                                                                        (      2 ) ; /* 1 */
      {                  //Ocorre a cada 200us
         //flaggeral |= 2;
        t10ms = 0 ;
      }
 }                                                                                                   
else                                                                                                
  init_45zzqqzz                                                                                        (      3 ) ; /* 4 */
    t50ms ++ ;
    if
      (
      t50ms == 50
      )
 {
    init_45zzqqzz                                                                                        (      4 ) ; /* 1 */
      {                  //Ocorre a cada 100ms
        flaggeral |= 4 ;
        flaggeral |= 2 ;
        t50ms = 0 ;
      }
 }                                                                                                   
else                                                                                                
  init_45zzqqzz                                                                                        (      5 ) ; /* 4 */
    t100ms ++ ;
    if
      (
      t100ms == 100
      )
 {
    init_45zzqqzz                                                                                        (      6 ) ; /* 1 */
      {                    //Ocorre a cada 100ms
         //flaggeral |= 2;
        flaggeral |= 8 ;
         //ADCR |= 0x00010000; //Bit 21 PDN = Habilita conversao do AD
        t100ms = 0 ;
      }
 }                                                                                                   
else                                                                                                
  init_45zzqqzz                                                                                        (      7 ) ; /* 4 */
    t1s ++ ;
    if
      (
      t1s == 1000
      )
 {
    init_45zzqqzz                                                                                        (      8 ) ; /* 1 */
      {
         //flaggeral |= 2;
        flaggeral |= 0x10 ; //Seta a cada 1 segundo
        t1s = 0 ;
      }
 }                                                                                                   
else                                                                                                
  init_45zzqqzz                                                                                        (      9 ) ; /* 4 */
    T0IR = 1 ;    // Clear interrupt flag
    VICVectAddr = 0 ;    // Acknowledge Interrupt ?
    init_45zqendz                                                                                        (      10 ) ; /* 30 */  
  }
/******************************************************************************/
/*       Interrupcao do ADC */
/******************************************************************************/
 
__irq void
  ADC ( void )
  {
   int iinit_45zzqqzz                                                                                       
 = init_45zzqqzz                                                                                        (      11 ) ; /* 37 */
//      varAnalog[0]= ((ADDR0>>6) & 0x03FF); // Salva valores convertidos no buffer varAnalog[]
//      varAnalog[1]= ((ADDR1>>6) & 0x03FF);
//      varAnalog[2]= ((ADDR2>>6) & 0x03FF);
//      varAnalog[3]= ((ADDR3>>6) & 0x03FF);
//      varAnalog[4]= ((ADDR4>>6) & 0x03FF);
//      varAnalog[5]= ((ADDR5>>6) & 0x03FF);
//      varAnalog[6]= ((ADDR6>>6) & 0x03FF);
//      varAnalog[7]= ((ADDR7>>6) & 0x03FF);
    ADCR &= 0xFFFEFFFF ;    //Bit 21 PDN = Desabilita conversao do AD
    VICVectAddr = 0 ;    // Acknowledge Interrupt
    init_45zqendz                                                                                        (      12 ) ; /* 30 */  
  }
  /* Default Interrupt Function: may be called when timer ISR is disabled */
 
__irq void
  DefISR ( void )
  {
   int iinit_45zzqqzz                                                                                       
 = init_45zzqqzz                                                                                        (      13 ) ; /* 37 */
    ;
    init_45zqendz                                                                                        (      14 ) ; /* 30 */  
  }
 
void
  init_irq ( void )
  {
   int iinit_45zzqqzz                                                                                       
 = init_45zzqqzz                                                                                        (      15 ) ; /* 37 */
        //setup the timer counter 0 interrupt
        //PCLK = 60Mhz
        //periodo = 1/60Mhz = 16,66ns
    VICVectCntl0 = 0x20 | 4 ;    //Interrupcao O sera o Timer0
    VICVectAddr0 = ( unsigned long ) timer0 ; //Usa o Vetor 0 para interrupcao do timer0
    T0MR0 = 60241 ;    //MRO conta ate 7499, overflow = 60241 * 16,6ns = 1ms
    T0MCR = 3 ;    //Interrompe quando igual a MRO e Reseta a contagem
    T0TCR = 1 ;
                   //Timer0 Enable
        //setup the ADC module
        //VICVectCntl2 = 0x20 | 18; //Interrupcao O sera o Timer0
        //VICVectAddr2 = (unsigned long)ADC; //Usa o Vetor 0 para interrupcao do timer0
        //ADCR = 0x002104FF;
        // ||||||++-------------------------->Bits 0..7 SEL = habilita canal AD. Todos habilitados
        // ||||++---------------------------->Bits 8..15 CLKDIV = PCLK / (4 + 1) = 3Mhz
        // |||+------------------------------>Bit 16 BURST = 1 Habilita modo BURST
        // |||+------------------------------>Bits 17..19 CLKS = 11 clocks / 10 bits
        // ||+------------------------------->Bit 20 Reservado
        // ||+------------------------------->Bit 21 PDN = Habilita conversao do AD
        // ||+------------------------------->Bits 22..23 Reservados
        // |+-------------------------------->Bits 24..26 Start = Nao usado com Burst habilitado
        // |+-------------------------------->Bit 27 EDGE = Nao usado com Burst habilitado
        // +--------------------------------->Bits 28..31 Reservados
        //ADINTEN = 0x0080; //Ativa interrupo no final da converso do canal 7
        //setup the un-assigned interrupts
    VICDefVectAddr = ( unsigned long ) DefISR ;  //un-assigned VIC interrupts
        //Habilita ou nao as interrupes
    VICIntEnable = 0x00000010 ;    //Habilita Interrupcao Timer0, externa e ADC
    init_45zqendz                                                                                        (      16 ) ; /* 30 */  
  }
/******************************************************************************/
/* inicializa os perifericos     */
/******************************************************************************/
 
void
  hardware_init ( void )
  {
   int iinit_45zzqqzz                                                                                       
 = init_45zzqqzz                                                                                        (      17 ) ; /* 37 */
        //setup IO module
    IO0DIR = 0x00000404 ;
    PINSEL0 |= 0x00058000 ;
 init_45zzqqzz                                                                                        (      18 ) ; /* 23 */
 
    init_irq ( ) ;  //Inicializa as interrupcoes
    PINSEL1 |= 0x00040000 ;    //P0.24 como TXCAN, P0.23 como RXCAN
    IO2DIR = 0x02000000 ;    //P2.23 e P2.24 como Saida Usar esse para KitARM
    C1MOD = 0x00000001 ;    //Habilita a escrita no controlador CAN
    C1BTR = 0x00180004 ;
    C1MOD &= 0xFFFFFFFE ;    //Desabilita a escrita no controlador CAN
    init_45zqendz                                                                                        (      19 ) ; /* 30 */  
  }
#define qqqbranches     19
#define QQQMAXMCDCSIZE      2
#define ldra_sscanf                                                                                                                                                                                                                                                 
  /* put in undefs to protect our parameter names from macros */                                                                                                                                                                                                    
#undef f                                                                                                                                                                                                                                                            
#undef i                                                                                                                                                                                                                                                            
#undef j                                                                                                                                                                                                                                                            
#undef k                                                                                                                                                                                                                                                            
#undef s                                                                                                                                                                                                                                                            
#undef l                                                                                                                                                                                                                                                            
#undef ii                                                                                                                                                                                                                                                           
#undef some                                                                                                                                                                                                                                                         
#undef none                                                                                                                                                                                                                                                         
#undef from                                                                                                                                                                                                                                                         
#undef a                                                                                                                                                                                                                                                            
#undef b                                                                                                                                                                                                                                                            
#undef iz                                                                                                                                                                                                                                                           
#undef jz                                                                                                                                                                                                                                                           
#undef qqnull_params                                                                                                                                                                                                                                                
#define qqnull_params void                                                                                                                                                                                                                                          
  /* Conventional Instrumentation */                                                                                                                                                                                                                                
#define qqzzidfield 1                                                                                                                                                                                                                                               
    /* single file or fileid */                                                                                                                                                                                                                                     
    /* these have an extra field for the fileid */                                                                                                                                                                                                                  
    static char qqqqone[]   = "%6d%6d\n";           /* single point */                                                                                                                                                                                              
  /* uncompressed data structures */                                                                                                                                                                                                                                
  /* uncompressed  bitmap */                                                                                                                                                                                                                                        
#define QQQFIXEDSIZE                                                                                                                                                                                                                                                
  static int qqqlast = 0;                                                                                                                                                                                                                                           
  static unsigned int bitmaparr[(qqqbranches/8)+1];                                                                                                                                                                                                                 
  extern unsigned int * qqzzglobarrb[QQQnumfil]; /*a*/                                                                                                                                                                                                              
  extern short qqzzglobbrns[QQQnumfil];                                                                                                                                                                                                                             
  extern short qqzzglobfileid[QQQnumfil];                                                                                                                                                                                                                           
  extern int qqupload_registered;                                                                                                                                                                                                                                   
  extern int init_45zqqzqz(qqnull_params);                                                                                                                                                                                                                          
  extern int init_45zqqzqz1(qqnull_params);                                                                                                                                                                                                                         
    /* ----------------------------------------------------------------------* 179 *                                                                                                                                                                                
     *            Procedures                                                                                                                                                                                                                                        
     * -----------------------------------------------------------------------------                                                                                                                                                                                
     */                                                                                                                                                                                                                                                             
  /* ----------- zscanf ---------------------------------------------------* 180 *                                                                                                                                                                                  
   *        Returns an integer extracted from a string                                                                                                                                                                                                              
   * -----------------------------------------------------------------------------                                                                                                                                                                                  
   */                                                                                                                                                                                                                                                               
  static int init_45zscanf(char * qqscan_str)                                                                                                                                                                                                                       
  {                                                                                                                                                                                                                                                                 
    int qqvalue;                                                                                                                                                                                                                                                    
    int qqisign;                                                                                                                                                                                                                                                    
    char * qqcptr;                                                                                                                                                                                                                                                  
    qqvalue = 0;                                                                                                                                                                                                                                                    
    qqisign = 1;                                                                                                                                                                                                                                                    
    qqcptr  = qqscan_str;                                                                                                                                                                                                                                           
    /* Skip spaces */                                                                                                                                                                                                                                               
    while (qqcptr[0] == ' ')                                                                                                                                                                                                                                        
    {                                                                                                                                                                                                                                                               
      qqcptr++;                                                                                                                                                                                                                                                     
    }                                                                                                                                                                                                                                                               
    /* Check for a leading ---                                                                                                                                                                                                                                      
    */                                                                                                                                                                                                                                                              
    if (qqcptr[0] == '-')                                                                                                                                                                                                                                           
    {                                                                                                                                                                                                                                                               
      qqisign = -1;                                                                                                                                                                                                                                                 
      qqcptr++;                                                                                                                                                                                                                                                     
    }                                                                                                                                                                                                                                                               
    /* Extract digits */                                                                                                                                                                                                                                            
    while ((qqcptr[0] >= '0') && (qqcptr[0] <= '9'))                                                                                                                                                                                                                
    {                                                                                                                                                                                                                                                               
      qqvalue = 10 * qqvalue;                                                                                                                                                                                                                                       
      qqvalue = qqvalue + (qqcptr[0] - '0');                                                                                                                                                                                                                        
      qqcptr++;                                                                                                                                                                                                                                                     
    }                                                                                                                                                                                                                                                               
    qqvalue = qqisign * qqvalue;                                                                                                                                                                                                                                    
    return qqvalue;                                                                                                                                                                                                                                                 
  } /* End of zscanf */                                                                                                                                                                                                                                             
  /* ----------------------------------------------------------------------* 186 *                                                                                                                                                                                  
   *    C System utilities in use:                                                                                                                                                                                                                                  
   *        fprintf                                                                                                                                                                                                                                                 
   *        fclose                                                                                                                                                                                                                                                  
   *        sscanf                                                                                                                                                                                                                                                  
   * -----------------------------------------------------------------------------                                                                                                                                                                                  
   */                                                                                                                                                                                                                                                               
  /* ----------------------------------------------------------------------* 189 *                                                                                                                                                                                  
   *            qqoutput* suite                                                                                                                                                                                                                                     
   *      Main output routines. These may require modification.                                                                                                                                                                                                     
   * -----------------------------------------------------------------------------                                                                                                                                                                                  
   */                                                                                                                                                                                                                                                               
  /* ----------------------------------------------------------------------* 190 *                                                                                                                                                                                  
   *            qqoutput                                                                                                                                                                                                                                            
   *    This is the principle output routine.                                                                                                                                                                                                                       
   * -----------------------------------------------------------------------------                                                                                                                                                                                  
   */                                                                                                                                                                                                                                                               
    static void qqoutput(FILEPOINT char * s,int i)                                                                                                                                                                                                                  
  /* f - file pointer, s - format string, i - integer for probe value */                                                                                                                                                                                            
  {                                                                                                                                                                                                                                                                 
    /* printing to a file */                                                                                                                                                                                                                                        
    /* fprintf exists, not threaded */                                                                                                                                                                                                                              
    /* fprintf exists, not threaded, ( SINGLEFILE or FILEID ) */                                                                                                                                                                                                    
    ldra_sprintf2 (&ldra_buffer[0], s,i,zzfileid);                                                                                                                                                                                                                  
    ldra_port_write (&ldra_buffer[0]);                                                                                                                                                                                                                              
  } /* end of qqoutput */                                                                                                                                                                                                                                           
    /* ----------------------------------------------------------------------* 191 *                                                                                                                                                                                
     *            qqoutput0                                                                                                                                                                                                                                         
     * -----------------------------------------------------------------------------                                                                                                                                                                                
     */                                                                                                                                                                                                                                                             
    static void qqoutput0(FILEPOINT char * s)                                                                                                                                                                                                                       
    {                                                                                                                                                                                                                                                               
      ldra_port_write(s);                                                                                                                                                                                                                                           
    } /* end of qqoutput0 */                                                                                                                                                                                                                                        
  /* ----------------------------------------------------------------------* 192 *                                                                                                                                                                                  
   *            qqoutput2                                                                                                                                                                                                                                           
   * -----------------------------------------------------------------------------                                                                                                                                                                                  
   */                                                                                                                                                                                                                                                               
    static void qqoutput2(FILEPOINT char * s,int i, int j)                                                                                                                                                                                                          
  {                                                                                                                                                                                                                                                                 
    ldra_sprintf2 (&ldra_buffer[0], s, i, j);                                                                                                                                                                                                                       
    ldra_port_write (&ldra_buffer[0]);                                                                                                                                                                                                                              
  } /* end of qqoutput2 */                                                                                                                                                                                                                                          
  /* ----------------------------------------------------------------------* 193 *                                                                                                                                                                                  
   *            qqoutput3                                                                                                                                                                                                                                           
   * -----------------------------------------------------------------------------                                                                                                                                                                                  
   */                                                                                                                                                                                                                                                               
    static void qqoutput3(FILEPOINT char * s,int i,int j,int k)                                                                                                                                                                                                     
  {                                                                                                                                                                                                                                                                 
    ldra_sprintf3 (&ldra_buffer[0], s, i, j, k);                                                                                                                                                                                                                    
    ldra_port_write (&ldra_buffer[0]);                                                                                                                                                                                                                              
  } /* end of qqoutput3 */                                                                                                                                                                                                                                          
  /* ----------------------------------------------------------------------* 194 *                                                                                                                                                                                  
   *            qqoutput4                                                                                                                                                                                                                                           
   * -----------------------------------------------------------------------------                                                                                                                                                                                  
   */                                                                                                                                                                                                                                                               
  static void qqoutput4(FILEPOINT char * s,int i,int j,int k,int l)                                                                                                                                                                                                 
  {                                                                                                                                                                                                                                                                 
    ldra_sprintf4 (&ldra_buffer[0], s, i, j, k, l);                                                                                                                                                                                                                 
    ldra_port_write (&ldra_buffer[0]);                                                                                                                                                                                                                              
  } /* end of qqoutput4 */                                                                                                                                                                                                                                          
  /* ----------------------------------------------------------------------* 195 *                                                                                                                                                                                  
   *            end of qqoutput* suite                                                                                                                                                                                                                              
   * -----------------------------------------------------------------------------                                                                                                                                                                                  
   */                                                                                                                                                                                                                                                               
  /* ----------------------------------------------------------------------* 198 *                                                                                                                                                                                  
   *            qqqqinitialise                                                                                                                                                                                                                                      
   * This procedure initialises the structures for                                                                                                                                                                                                                  
   * compressed execution histories.                                                                                                                                                                                                                                
   * -----------------------------------------------------------------------------                                                                                                                                                                                  
   */                                                                                                                                                                                                                                                               
  static void qqqqinitialise(int ii)                                                                                                                                                                                                                                
  {                                                                                                                                                                                                                                                                 
    unsigned int i;                                                                                                                                                                                                                                                 
    /* First time through. */                                                                                                                                                                                                                                       
    /* bitmap */                                                                                                                                                                                                                                                    
    for (i=0;i<(qqqbranches/8)+1;i++)                                                                                                                                                                                                                               
    {                                                                                                                                                                                                                                                               
      bitmaparr[i] = 0;                                                                                                                                                                                                                                             
    }                                                                                                                                                                                                                                                               
    /* And so we don't optimise qqqupload() away */                                                                                                                                                                                                                 
    if (bitmaparr[0] != 0)                                                                                                                                                                                                                                          
    {                                                                                                                                                                                                                                                               
      qqqupload();                                                                                                                                                                                                                                                  
      upload_execution_history();                                                                                                                                                                                                                                   
    }                                                                                                                                                                                                                                                               
    /* bitmap separate */                                                                                                                                                                                                                                           
    qqqlast = 1; /* stops qqfun() calling initialise again */                                                                                                                                                                                                       
    /* bitmap */                                                                                                                                                                                                                                                    
    /* bitmap singlefile */                                                                                                                                                                                                                                         
    /* bitmap singlefile notmainfl */                                                                                                                                                                                                                               
    i = -1;                                                                                                                                                                                                                                                         
    do                                                                                                                                                                                                                                                              
    {                                                                                                                                                                                                                                                               
      i++;                                                                                                                                                                                                                                                          
    }                                                                                                                                                                                                                                                               
    while(qqzzglobarrb[i] != (unsigned int * ) 0 );                                                                                                                                                                                                                 
    qqzzglobarrb[i] = &bitmaparr[0];/*b*/                                                                                                                                                                                                                           
    qqzzglobbrns[i] = qqqbranches;                                                                                                                                                                                                                                  
    qqzzglobfileid[i] = (0,zzfileid); /* deliberate */                                                                                                                                                                                                              
  } /* end of qqqqinitialise */                                                                                                                                                                                                                                     
#undef QQQTEMP1                                                                                                                                                                                                                                                     
  /* ----------- zzqqzz ---------------------------------------------------* 297 *                                                                                                                                                                                  
   * -----------------------------------------------------------------------------                                                                                                                                                                                  
   */                                                                                                                                                                                                                                                               
  /* ----------------------------------------------------------------------* 299 *                                                                                                                                                                                  
   *            This is the routine which usually puts an integer into                                                                                                                                                                                              
   * the execution history file and returns unity.                                                                                                                                                                                                                  
   * This routine is the primary routine for gathering                                                                                                                                                                                                              
   * the execution history. Note that the last entry                                                                                                                                                                                                                
   * is usually inserted by init_45zqzqzq.                                                                                                                                                                                                                          
   * -----------------------------------------------------------------------------                                                                                                                                                                                  
   */                                                                                                                                                                                                                                                               
  static int init_45zzqqzz(int qqqi)                                                                                                                                                                                                                                
  {                                                                                                                                                                                                                                                                 
    if ( init_45zzopen != 1 )                                                                                                                                                                                                                                       
    {                                                                                                                                                                                                                                                               
      init_45zqqzqz1();                                                                                                                                                                                                                                             
    }                                                                                                                                                                                                                                                               
    if ( init_45zzopen )                                                                                                                                                                                                                                            
    {                                                                                                                                                                                                                                                               
      /* bitmap   */                                                                                                                                                                                                                                                
      if ( qqqi > 0 )                                                                                                                                                                                                                                               
      {                                                                                                                                                                                                                                                             
         /* Standard probe */                                                                                                                                                                                                                                       
        /* Single execution history, not main program file */                                                                                                                                                                                                       
        if ( qqqlast == 0 )                                                                                                                                                                                                                                         
        {                                                                                                                                                                                                                                                           
          qqqqinitialise(qqqi);                                                                                                                                                                                                                                     
          qqqlast = 1;                                                                                                                                                                                                                                              
        }                                                                                                                                                                                                                                                           
        bitmaparr[((qqqi-1) >> 3)] |= (1<<((qqqi-1) & 0x07));                                                                                                                                                                                                       
      }                                                                                                                                                                                                                                                             
      else                                                                                                                                                                                                                                                          
      {                                                                                                                                                                                                                                                             
      }                                                                                                                                                                                                                                                             
    }                                                                                                                                                                                                                                                               
    return(1);                                                                                                                                                                                                                                                      
  } /* End of zzqqzz */                                                                                                                                                                                                                                             
  /* ----------- zqendz ---------------------------------------------------* 306 *                                                                                                                                                                                  
   * This routine is called on exiting a routine in a                                                                                                                                                                                                               
   * module. It closes the execution history.                                                                                                                                                                                                                       
   * -----------------------------------------------------------------------------                                                                                                                                                                                  
   */                                                                                                                                                                                                                                                               
static int init_45zqendz(int qqqi)                                                                                                                                                                                                                                  
  {                                                                                                                                                                                                                                                                 
      if ( init_45zzopen != 1 )                                                                                                                                                                                                                                     
      {                                                                                                                                                                                                                                                             
        init_45zqqzqz1();                                                                                                                                                                                                                                           
      }                                                                                                                                                                                                                                                             
      /* ----------------------------------------------------------------------* 307 *                                                                                                                                                                              
       * this is the one which puts an integer into                                                                                                                                                                                                                 
       * the execution history file and returns unity.                                                                                                                                                                                                              
       * The format of each field consists of six columns,                                                                                                                                                                                                          
       * the number is right justified in this field.                                                                                                                                                                                                               
       * -----------------------------------------------------------------------------                                                                                                                                                                              
       */                                                                                                                                                                                                                                                           
      if ( init_45zzopen )                                                                                                                                                                                                                                          
      {                                                                                                                                                                                                                                                             
        /* uncompressed */                                                                                                                                                                                                                                          
        /* uncompressed unbuffered */                                                                                                                                                                                                                               
      /* uncompressed unbuffered bitmap  */                                                                                                                                                                                                                         
        if ( qqqi > 0 )                                                                                                                                                                                                                                             
        {                                                                                                                                                                                                                                                           
          bitmaparr[((qqqi-1) >> 3)] |= (1<<((qqqi-1) & 0x07));                                                                                                                                                                                                     
        }                                                                                                                                                                                                                                                           
        else                                                                                                                                                                                                                                                        
        {                                                                                                                                                                                                                                                           
        }                                                                                                                                                                                                                                                           
      }                                                                                                                                                                                                                                                             
    /* ----------------------------------------------------------------------* 310 *                                                                                                                                                                                
     * fclose(init_45zzhfil);                                                                                                                                                                                                                                       
     * init_45zzopen = 0;                                                                                                                                                                                                                                           
     * -----------------------------------------------------------------------------                                                                                                                                                                                
     */                                                                                                                                                                                                                                                             
    return(1);                                                                                                                                                                                                                                                      
  } /* end of zqendz */                                                                                                                                                                                                                                             
  /* ----------- zqzqzq ---------------------------------------------------* 318 *                                                                                                                                                                                  
   * -----------------------------------------------------------------------------                                                                                                                                                                                  
   */                                                                                                                                                                                                                                                               
  /* ----------------------------------------------------------------------* 320 *                                                                                                                                                                                  
   * This routine should be called before the program                                                                                                                                                                                                               
   * terminates. It closes the execution history                                                                                                                                                                                                                    
   * -----------------------------------------------------------------------------                                                                                                                                                                                  
   */                                                                                                                                                                                                                                                               
  static int init_45zqzqzq(int qqqi)                                                                                                                                                                                                                                
  {                                                                                                                                                                                                                                                                 
      if ( init_45zzopen != 1 )                                                                                                                                                                                                                                     
      {                                                                                                                                                                                                                                                             
        init_45zqqzqz1();                                                                                                                                                                                                                                           
      }                                                                                                                                                                                                                                                             
      /* not compressed */                                                                                                                                                                                                                                          
      /* do nothing for bitmap*/                                                                                                                                                                                                                                    
      /* upload the history */                                                                                                                                                                                                                                      
      /* bitmap */                                                                                                                                                                                                                                                  
      /* uncompressed  bitmap */                                                                                                                                                                                                                                    
      init_45zqendz(qqqi);                                                                                                                                                                                                                                          
        /* qqqupload closes the execution history file */                                                                                                                                                                                                           
    return(1);                                                                                                                                                                                                                                                      
  } /* end of zqzqzq */                                                                                                                                                                                                                                             
  /*   the following routines should be left alone */                                                                                                                                                                                                               
  /* ----------------------------------------------------------------------* 331 *                                                                                                                                                                                  
   *            init_45zzzqtz                                                                                                                                                                                                                                       
   * This routine captures the value of an expression                                                                                                                                                                                                               
   * and then returns a jump if the value is not 0.                                                                                                                                                                                                                 
   *                                                                                                                                                                                                                                                                
   *   qqqa - value of expression                                                                                                                                                                                                                                   
   *   qqqb - jump table index.                                                                                                                                                                                                                                     
   * -----------------------------------------------------------------------------                                                                                                                                                                                  
   */                                                                                                                                                                                                                                                               
  static int init_45zzzqtz(int qqqa, int qqqb)                                                                                                                                                                                                                      
  {                                                                                                                                                                                                                                                                 
      if (qqqa)                                                                                                                                                                                                                                                     
      {                                                                                                                                                                                                                                                             
        init_45zzqqzz(qqqb) ;                                                                                                                                                                                                                                       
      }                                                                                                                                                                                                                                                             
      else                                                                                                                                                                                                                                                          
      {                                                                                                                                                                                                                                                             
        /* straight on jump */                                                                                                                                                                                                                                      
        init_45zzqqzz(qqqb-1);                                                                                                                                                                                                                                      
      }                                                                                                                                                                                                                                                             
    return(qqqa);                                                                                                                                                                                                                                                   
  } /* end of zzzqtz */                                                                                                                                                                                                                                             
  /* ----------------------------------------------------------------------* 332 *                                                                                                                                                                                  
   *            init_45zzzqfz                                                                                                                                                                                                                                       
   * This routine captures the value of an expression                                                                                                                                                                                                               
   * and then returns a jump if the value is 0.                                                                                                                                                                                                                     
   *                                                                                                                                                                                                                                                                
   *  qqqa - value of expression                                                                                                                                                                                                                                    
   *  qqqb - jump table index.                                                                                                                                                                                                                                      
   * -----------------------------------------------------------------------------                                                                                                                                                                                  
   */                                                                                                                                                                                                                                                               
  static int init_45zzzqfz(int qqqa,int qqqb)                                                                                                                                                                                                                       
  {                                                                                                                                                                                                                                                                 
    {                                                                                                                                                                                                                                                               
      if (qqqa)                                                                                                                                                                                                                                                     
      {                                                                                                                                                                                                                                                             
        /* straight on jump */                                                                                                                                                                                                                                      
        init_45zzqqzz(qqqb-1);                                                                                                                                                                                                                                      
        return(qqqa);                                                                                                                                                                                                                                               
      }                                                                                                                                                                                                                                                             
      else                                                                                                                                                                                                                                                          
      {                                                                                                                                                                                                                                                             
        init_45zzqqzz(qqqb);                                                                                                                                                                                                                                        
      }                                                                                                                                                                                                                                                             
    }                                                                                                                                                                                                                                                               
    return(qqqa);                                                                                                                                                                                                                                                   
  } /* zzzqfz */                                                                                                                                                                                                                                                    
  /* ----------------------------------------------------------------------* 336 *                                                                                                                                                                                  
   *            swzzqqzz                                                                                                                                                                                                                                            
   *  The purpose of this routine is to handle empty cases in switch statements                                                                                                                                                                                     
   * -----------------------------------------------------------------------------                                                                                                                                                                                  
   */                                                                                                                                                                                                                                                               
  static int swzzqqzz(int qqqi, int onoff)                                                                                                                                                                                                                          
  {                                                                                                                                                                                                                                                                 
  if ( qqqzzglobflag == 1 || onoff == 1)                                                                                                                                                                                                                            
  {                                                                                                                                                                                                                                                                 
    if ( init_45zzopen != 1 )                                                                                                                                                                                                                                       
    {                                                                                                                                                                                                                                                               
      init_45zqqzqz1();                                                                                                                                                                                                                                             
    }                                                                                                                                                                                                                                                               
    if ( init_45zzopen )                                                                                                                                                                                                                                            
    {                                                                                                                                                                                                                                                               
      if ( qqqi > 0 )                                                                                                                                                                                                                                               
      {                                                                                                                                                                                                                                                             
        bitmaparr[((qqqi-1) >> 3)] |= (1<<((qqqi-1) & 0x07));                                                                                                                                                                                                       
      }                                                                                                                                                                                                                                                             
    }                                                                                                                                                                                                                                                               
    if ( qqqzzglobflag == 1 )                                                                                                                                                                                                                                       
    {                                                                                                                                                                                                                                                               
      qqqzzglobflag = 0;                                                                                                                                                                                                                                            
    }                                                                                                                                                                                                                                                               
    else                                                                                                                                                                                                                                                            
    {                                                                                                                                                                                                                                                               
      qqqzzglobflag = 1;                                                                                                                                                                                                                                            
    }                                                                                                                                                                                                                                                               
  }                                                                                                                                                                                                                                                                 
    return(1);                                                                                                                                                                                                                                                      
  } /* end of swzzqqzz */                                                                                                                                                                                                                                           
/* END OF TESTBED INSTRUMENTATION */                                                                                                                                                                                                                                
 
