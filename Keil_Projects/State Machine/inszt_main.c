/*
C TESTBED VERSION  : 9.5.1
FILE UNDER TEST  : "C:\_WorkSpace\Academic_Code\Keil_Projects\State Machine\main.c"
DATE OF ANALYSIS : Mon Apr 18 09:36:07 2016
*/
#undef QQQdialect 
#undef QQQ146
#undef QQQ148
#undef QQQbndchk
#undef QQQ294
#undef QQQEMBEDDEDICE
 /* Note: for BITMAP execution histories QQQthreaded is not defined */
#undef QQQthreaded 
#define QQQdo178b
#undef QQQfixbra
#define QQQswitch3
#undef QQQternary
#undef QQQswitch
#undef QQQmacrof
#undef QQQMULTIPROCESSEXH
#undef QQFLUSH
#undef QQNEWBS
#define qqqMaxBranchDepth     20
#undef QQQstructbitmap
 static int zzfileid =     50;
#undef QQQALGONE
#undef QQQVCLFLG
#undef QQQFORKFL
#undef QQQIADDRF
#undef QQQRTI
#undef QQQPERFA
#undef QQQADRMOD
#undef QQQDCAPFL
#undef QQQTEMPLATEONLY
#define QQQNOATEXIT
#define QQQUPLOADATEND
#define QQQNOSTDIO
#undef QQQASHLINGVITRA
#define QQQBITMAP 
#undef QQQBITMAPMCDC 
#undef QQQTIC2XSERIALIO
#undef QQQTIC2XFLASH
#undef QQQCOMPRESSED_EXH
#define QQQMAINFL
#define QQQSINGLEFILE
#define QQQFILEID
#define QQQseparate
int QQQindicator=0;
int QQQfirstmcdc=1;
#define main_50zzopen                                                                                         zzopen
 int main_50zzopen                                                                                        = 0;
#define main_50zqqzqz1                                                                                        zqqzqz1
#define QQQLDRA_PORT 
#ifndef QQQLDRA_PORT                                                                                                                                                                                                                                                
#define FILEPOINT FILE * f,                                                                                                                                                                                                                                         
#if !defined(QQQTEMPLATEONLY) && !defined(FILE) && !defined(QQQNOSTDIO)                                                                                                                                                                                             
#include <stdio.h>                                                                                                                                                                                                                                                  
  /* ----------------------------------------------------------------------* 100 *                                                                                                                                                                                  
   * If stdio.h is not available then insert:                                                                                                                                                                                                                       
   *      typedef int * FILE;                                                                                                                                                                                                                                       
   * -----------------------------------------------------------------------------                                                                                                                                                                                  
   */                                                                                                                                                                                                                                                               
#endif  /* !(QQQTEMPLATEONLY) && !(FILE) && !(QQQNOSTDIO) */                                                                                                                                                                                                        
#else  /* QQQLDRA_PORT */                                                                                                                                                                                                                                           
#define FILEPOINT                                                                                                                                                                                                                                                   
/************************ LDRA_PORT ************************************/                                                                                                                                                                                           
#ifdef __cplusplus                                                                                                                                                                                                                                                  
extern "C" {                                                                                                                                                                                                                                                        
#endif                                                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                                    
/* Add include for ITM_SendChar */                                                                                                                                                                                                                                  
#ifdef USE_LPC17XX                                                                                                                                                                                                                                                  
#include "lpc17xx.h"                                                                                                                                                                                                                                                
#endif                                                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                                    
#ifdef STM32F407                                                                                                                                                                                                                                                    
#include "stm32f4xx.h"                                                                                                                                                                                                                                              
#endif                                                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                                    
#ifdef STM32F40_41xxx                                                                                                                                                                                                                                               
#include "stm32f4xx.h"                                                                                                                                                                                                                                              
#endif                                                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                                    
#ifdef STM32F429xx                                                                                                                                                                                                                                                  
#include "stm32f4xx.h"                                                                                                                                                                                                                                              
#endif                                                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                                    
extern char ldra_buffer[];                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                                    
extern int ldra_port_open (void);                                                                                                                                                                                                                                   
extern void ldra_port_close (void);                                                                                                                                                                                                                                 
extern void ldra_port_init (void);                                                                                                                                                                                                                                  
extern void ldra_port_write (const char* pMsg);                                                                                                                                                                                                                     
extern int ldra_port_is_configured (void);                                                                                                                                                                                                                          
extern void ldra_send_start_message (void);                                                                                                                                                                                                                         
extern void ldra_upload (void);                                                                                                                                                                                                                                     
extern void ldra_exit (void) __attribute__((noinline));                                                                                                                                                                                                             
#if defined(QQQBITMAP) && defined(QQQMAINFL)                                                                                                                                                                                                                        
extern void upload_execution_history(void) __attribute__((noinline));                                                                                                                                                                                               
#endif                                                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                                    
/* Functions used to avoid including stdio */                                                                                                                                                                                                                       
extern char* ldra_sprintf1 (char* str, const char* format, const int);                                                                                                                                                                                              
extern char* ldra_sprintf2 (char* str, const char* format, const int, const int);                                                                                                                                                                                   
extern char* ldra_sprintf3 (char* str, const char* format, const int, const int, const int);                                                                                                                                                                        
extern char* ldra_sprintf4 (char* str, const char* format, const int, const int, const int, const int);                                                                                                                                                             
                                                                                                                                                                                                                                                                    
#ifdef __cplusplus                                                                                                                                                                                                                                                  
}                                                                                                                                                                                                                                                                   
#endif                                                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                                    
/* Avoid adding all this code for both black and white box */                                                                                                                                                                                                       
#ifndef QQQ_SHLAYOUT                                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                                    
#if defined (QQQMAINFL)                                                                                                                                                                                                                                             
#define LDRA_MSG_SIZE 64                                                                                                                                                                                                                                            
char ldra_buffer[LDRA_MSG_SIZE];                  /* Buffer used for each write to the port */                                                                                                                                                                      
static int ldra_fileid=0;                         /* Host File id */                                                                                                                                                                                                
static volatile int Configured=0;                 /* Used to avoid re-initialising */                                                                                                                                                                               
                                                                                                                                                                                                                                                                    
/* Simple delay */                                                                                                                                                                                                                                                  
static void ldra_delay(const int aDelay) {                                                                                                                                                                                                                          
  int loop;                                                                                                                                                                                                                                                         
  for ( loop=0; loop < aDelay; loop++ ) {                                                                                                                                                                                                                           
    if ( !ldra_port_is_configured() ) {                                                                                                                                                                                                                             
      break;                                                                                                                                                                                                                                                        
    }                                                                                                                                                                                                                                                               
  }                                                                                                                                                                                                                                                                 
}                                                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                                    
/* write a zero terminated string */                                                                                                                                                                                                                                
void ldra_port_write(const char* pMsg) {                                                                                                                                                                                                                            
  if ( pMsg != 0 ) {                                                                                                                                                                                                                                                
    /* Output characters in string until 0 terminator */                                                                                                                                                                                                            
    while ( *pMsg != 0 ) {                                                                                                                                                                                                                                          
      /* write next character */                                                                                                                                                                                                                                    
      /* make sure that ITM_SendChar does not get instrumented! */                                                                                                                                                                                                  
      (void)ITM_SendChar (*pMsg);                                                                                                                                                                                                                                   
      /* allow time for the ITM port to capture the data */                                                                                                                                                                                                         
      ldra_delay(5000);                                                                                                                                                                                                                                             
      /* Point to next character */                                                                                                                                                                                                                                 
      pMsg++;                                                                                                                                                                                                                                                       
    }                                                                                                                                                                                                                                                               
  }                                                                                                                                                                                                                                                                 
}                                                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                                    
/*                                                                                                                                                                                                                                                                  
 * Perform any initialisation that is necessary                                                                                                                                                                                                                     
 * A breakpoint will get set on this function                                                                                                                                                                                                                       
 * to create a file                                                                                                                                                                                                                                                 
 */                                                                                                                                                                                                                                                                 
void ldra_port_init (void) {                                                                                                                                                                                                                                        
  /* Save info indicating that the init is done */                                                                                                                                                                                                                  
  Configured = 1;                                                                                                                                                                                                                                                   
}                                                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                                    
/*                                                                                                                                                                                                                                                                  
 * Check to see if the initialisation has already been done                                                                                                                                                                                                         
 */                                                                                                                                                                                                                                                                 
int ldra_port_is_configured (void) {                                                                                                                                                                                                                                
  return Configured;                                                                                                                                                                                                                                                
}                                                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                                    
void ldra_send_start_message (void) {                                                                                                                                                                                                                               
}                                                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                                    
void ldra_upload (void) {                                                                                                                                                                                                                                           
}                                                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                                    
/*                                                                                                                                                                                                                                                                  
 * Used to set a breakpoint at the end of execution                                                                                                                                                                                                                 
 */                                                                                                                                                                                                                                                                 
void ldra_exit (void) {                                                                                                                                                                                                                                             
  /* Stop the function from being optimised out */                                                                                                                                                                                                                  
  while (1) {                                                                                                                                                                                                                                                       
    ldra_delay(10);                                                                                                                                                                                                                                                 
  }                                                                                                                                                                                                                                                                 
}                                                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                                    
/* Open a file on the host */                                                                                                                                                                                                                                       
int ldra_port_open (void) {                                                                                                                                                                                                                                         
  ldra_fileid = 1;                                                                                                                                                                                                                                                  
  /*                                                                                                                                                                                                                                                                
   * Protect against the case with just a single main and in white box                                                                                                                                                                                              
   * where the port can get initialised twice                                                                                                                                                                                                                       
   */                                                                                                                                                                                                                                                               
  if ( ldra_port_is_configured() == 0 ) {                                                                                                                                                                                                                           
    ldra_port_init();                   /* Initialise the port */                                                                                                                                                                                                   
  }                                                                                                                                                                                                                                                                 
  return ldra_fileid;                                                                                                                                                                                                                                               
}                                                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                                    
/* Close the file on the host */                                                                                                                                                                                                                                    
void ldra_port_close (void) {                                                                                                                                                                                                                                       
  ldra_upload();                                                                                                                                                                                                                                                    
  ldra_exit();                                                                                                                                                                                                                                                      
}                                                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                                    
/*                                                                                                                                                                                                                                                                  
 * Routine to convert an integer to a decimal string                                                                                                                                                                                                                
 */                                                                                                                                                                                                                                                                 
static void ldra_int_to_dec (char* str, int val) {                                                                                                                                                                                                                  
  /* handle negative numbers. */                                                                                                                                                                                                                                    
  int neg = (val < 0);                                                                                                                                                                                                                                              
  if (neg) {                                                                                                                                                                                                                                                        
    val = -val;                                                                                                                                                                                                                                                     
  }                                                                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                                    
  /* add a decimal digit to the output string. */                                                                                                                                                                                                                   
  do {                                                                                                                                                                                                                                                              
    *(--str) = (val % 10) + '0';                                                                                                                                                                                                                                    
    val /= 10;                                                                                                                                                                                                                                                      
  } while (val);                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                                    
  if (neg) {                                                                                                                                                                                                                                                        
    *(--str) = '-';                                                                                                                                                                                                                                                 
  }                                                                                                                                                                                                                                                                 
}                                                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                                    
/*                                                                                                                                                                                                                                                                  
 * Routine to print a formatted string -> when sprintf is not available.                                                                                                                                                                                            
 */                                                                                                                                                                                                                                                                 
static void ldra_sprintf (char* str, const char* format, int cnt, const int d1, const int d2, const int d3, const int d4) {                                                                                                                                         
  int width = 0;                                                                                                                                                                                                                                                    
  int digits;                                                                                                                                                                                                                                                       
  int d[4];                                                                                                                                                                                                                                                         
  int max = cnt;                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                                    
  d[0] = d1;                                                                                                                                                                                                                                                        
  d[1] = d2;                                                                                                                                                                                                                                                        
  d[2] = d3;                                                                                                                                                                                                                                                        
  d[3] = d4;                                                                                                                                                                                                                                                        
  if (format != 0) {                                                                                                                                                                                                                                                
    do {                                                                                                                                                                                                                                                            
      /* expected format (in regex notation) %[1-9][0-9]?[xdh] */                                                                                                                                                                                                   
      /* else print char */                                                                                                                                                                                                                                         
      if ((*format == '%') && cnt) {                                                                                                                                                                                                                                
        ++format;                                                                                                                                                                                                                                                   
        /* The next char must be in 1..9 */                                                                                                                                                                                                                         
        if ((*format >= '1') && (*format <= '9')) {                                                                                                                                                                                                                 
          width = *format - '0';                                                                                                                                                                                                                                    
          ++format;                                                                                                                                                                                                                                                 
          /* The width might have two chars for a total range of 1-99 */                                                                                                                                                                                            
          if ((*format >= '0') && (*format <= '9')) {                                                                                                                                                                                                               
            width *= 10;                                                                                                                                                                                                                                            
            width += *format - '0';                                                                                                                                                                                                                                 
            ++format;                                                                                                                                                                                                                                               
          }                                                                                                                                                                                                                                                         
        } else {                                                                                                                                                                                                                                                    
          width = 1;                                                                                                                                                                                                                                                
          digits = d[max-cnt];                                                                                                                                                                                                                                      
          /* if int to be printed is two or more digits and the format                                                                                                                                                                                              
           * pointer does not specify the number of digits then this code                                                                                                                                                                                           
           * will calculate the correct number of digits */                                                                                                                                                                                                         
          if (digits < -9) {                                                                                                                                                                                                                                        
            digits = -digits;                                                                                                                                                                                                                                       
          }                                                                                                                                                                                                                                                         
			                                                                                                                                                                                                                                                                 
          while (digits > 9) {                                                                                                                                                                                                                                      
            digits /= 10;                                                                                                                                                                                                                                           
            width++;                                                                                                                                                                                                                                                
          }			                                                                                                                                                                                                                                                      
        }                                                                                                                                                                                                                                                           
        /* Advance the pointer beyond the number field. */                                                                                                                                                                                                          
        while (width!=0) {                                                                                                                                                                                                                                          
          *str++ = ' ';                                                                                                                                                                                                                                             
          --width;                                                                                                                                                                                                                                                  
        }                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                                    
        if (*format == 'd') {                                                                                                                                                                                                                                       
          ++format;                                                                                                                                                                                                                                                 
          /* printf("\n\n-***-123456789012345\nstr:\"%s\"\nfmt:\"%s\"\n---\n", str, format); */                                                                                                                                                                     
          ldra_int_to_dec(str, d[max-cnt]);                                                                                                                                                                                                                         
          --cnt;                                                                                                                                                                                                                                                    
        } else {                                                                                                                                                                                                                                                    
          /* missing the number type. */                                                                                                                                                                                                                            
          *str++ = ' ';                                                                                                                                                                                                                                             
          *str++ = 'E';                                                                                                                                                                                                                                             
          *str++ = 'r';                                                                                                                                                                                                                                             
          *str++ = 'r';                                                                                                                                                                                                                                             
          *str++ = 'o';                                                                                                                                                                                                                                             
          *str++ = 'r';                                                                                                                                                                                                                                             
        }                                                                                                                                                                                                                                                           
      } else {                                                                                                                                                                                                                                                      
        /* if not '%' the token for a number format. */                                                                                                                                                                                                             
        /* output the current character. */                                                                                                                                                                                                                         
        *str = *format;                                                                                                                                                                                                                                             
        ++str;                                                                                                                                                                                                                                                      
        ++format;                                                                                                                                                                                                                                                   
      }                                                                                                                                                                                                                                                             
    } while ((*format != '\0'));                                                                                                                                                                                                                                    
  }                                                                                                                                                                                                                                                                 
  *str = '\0';                                                                                                                                                                                                                                                      
}                                                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                                    
/*                                                                                                                                                                                                                                                                  
 * Routine to convert one argument to a formatted string                                                                                                                                                                                                            
 */                                                                                                                                                                                                                                                                 
char* ldra_sprintf1 (char* str, const char* format, const int d1) {                                                                                                                                                                                                 
  ldra_sprintf(str, format, 1, d1, d1, d1, d1);                                                                                                                                                                                                                     
  return str;                                                                                                                                                                                                                                                       
}                                                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                                    
/*                                                                                                                                                                                                                                                                  
 * Routine to convert two arguments to a formatted string                                                                                                                                                                                                           
 */                                                                                                                                                                                                                                                                 
char* ldra_sprintf2 (char* str, const char* format, const int d1, const int d2) {                                                                                                                                                                                   
  ldra_sprintf(str, format, 2, d1, d2, d2, d2);                                                                                                                                                                                                                     
  return str;                                                                                                                                                                                                                                                       
}                                                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                                    
/*                                                                                                                                                                                                                                                                  
 * Routine to convert three arguments to a formatted string                                                                                                                                                                                                         
 */                                                                                                                                                                                                                                                                 
char* ldra_sprintf3 (char* str, const char* format, const int d1, const int d2, const int d3) {                                                                                                                                                                     
  ldra_sprintf(str, format, 3, d1, d2, d3, d3);                                                                                                                                                                                                                     
  return str;                                                                                                                                                                                                                                                       
}                                                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                                    
/*                                                                                                                                                                                                                                                                  
 * Routine to convert four arguments to a formatted string                                                                                                                                                                                                          
 */                                                                                                                                                                                                                                                                 
char* ldra_sprintf4 (char* str, const char* format, const int d1, const int d2, const int d3, const int d4) {                                                                                                                                                       
  ldra_sprintf(str, format, 4, d1, d2, d3, d4);                                                                                                                                                                                                                     
  return str;                                                                                                                                                                                                                                                       
}                                                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                                    
#endif /* QQQMAINFL */                                                                                                                                                                                                                                              
#endif /* QQQ_SHLAYOUT */                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                                    
/************************ END OF LDRA_PORT ******************************/                                                                                                                                                                                          
                                                                                                                                                                                                                                                                    
#endif /* QQQLDRA_PORT */                                                                                                                                                                                                                                           
#ifndef QQQnumfil                                                                                                                                                                                                                                                   
#define QQQnumfil 40  /* default setting */                                                                                                                                                                                                                         
#endif  /* QQQnumfil */                                                                                                                                                                                                                                             
                                                                                                                                                                                                                                                                    
#if defined(QQQstructbitmap) && defined(QQQSINGLEFILE)                                                                                                                                                                                                              
#if defined(QQQMAINFL)                                                                                                                                                                                                                                              
  /*                                                                                                                                                                                                                                                                
   * Set qqqshell_upload to 1 if you want to call the qqqtotalupload separately. Although                                                                                                                                                                           
   * through the target you would have to set this to 0 before calling the qqqupload.                                                                                                                                                                               
   * Move this into ldra_port mechanism.                                                                                                                                                                                                                            
   */                                                                                                                                                                                                                                                               
  int qqqshell_upload = 0;                                                                                                                                                                                                                                          
  int QQQfcn_ptr_num = 0;                                                                                                                                                                                                                                           
  static int qqqisinitialised = 0;                                                                                                                                                                                                                                  
  typedef void(*VoidFunction)();                                                                                                                                                                                                                                    
  VoidFunction qqqaccumupload[QQQnumfil];                                                                                                                                                                                                                           
  VoidFunction qqqaccumreset[QQQnumfil];                                                                                                                                                                                                                            
  void qqqtotalupload(void);                                                                                                                                                                                                                                        
  void qqqtotalreset(void);                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                                    
  void qqpopulate_array_fcn_ptrQQ(int x, VoidFunction y, VoidFunction z)                                                                                                                                                                                            
  {                                                                                                                                                                                                                                                                 
    qqqaccumupload[x]=y;                                                                                                                                                                                                                                            
    qqqaccumreset[x]=z;                                                                                                                                                                                                                                             
    QQQfcn_ptr_num++;                                                                                                                                                                                                                                               
  }                                                                                                                                                                                                                                                                 
#else  /* defined(QQQMAINFL) */                                                                                                                                                                                                                                     
  extern int QQQfcn_ptr_num;                                                                                                                                                                                                                                        
  typedef void(*VoidFunction)();                                                                                                                                                                                                                                    
  extern VoidFunction qqqaccumupload[QQQnumfil];                                                                                                                                                                                                                    
  extern void qqpopulate_array_fcn_ptrQQ(int x, VoidFunction y, VoidFunction z);                                                                                                                                                                                    
  static int qqqstructzzopen = 0;                                                                                                                                                                                                                                   
#endif  /* defined(QQQMAINFL) */                                                                                                                                                                                                                                    
#endif  /* defined(QQQstructbitmap) && defined(QQQSINGLEFILE) */                                                                                                                                                                                                    
                                                                                                                                                                                                                                                                    
#if !defined(QQQSUPPRESS_UNDEF)                                                                                                                                                                                                                                     
#undef ldra_fprintf                                                                                                                                                                                                                                                 
#undef ldra_sscanf                                                                                                                                                                                                                                                  
#endif  /* !defined(QQQSUPPRESS_UNDEF) */                                                                                                                                                                                                                           
  /*  #define ldra_fprintf */                                                                                                                                                                                                                                       
  /*  #define ldra_sscanf */                                                                                                                                                                                                                                        
#define QQQHITMAP_STORAGE                                                                                                                                                                                                                                           
#undef qqnull_params                                                                                                                                                                                                                                                
#define qqnull_params void                                                                                                                                                                                                                                          
#define QQQ_PROTOTYPE_DEF                                                                                                                                                                                                                                           
  /* Conventional Instrumentation */                                                                                                                                                                                                                                
#undef QQ_ANSI_PROTOTYPE                                                                                                                                                                                                                                            
#ifdef __STDC__                                                                                                                                                                                                                                                     
#define QQ_ANSI_PROTOTYPE 1                                                                                                                                                                                                                                         
#else /* __STDC__ */                                                                                                                                                                                                                                                
#ifdef VAXC                                                                                                                                                                                                                                                         
#define QQ_ANSI_PROTOTYPE 1                                                                                                                                                                                                                                         
#endif  /* VAXC */                                                                                                                                                                                                                                                  
#endif  /* __STDC__ */                                                                                                                                                                                                                                              
#define QQQnumfil 40  /* default setting */                                                                                                                                                                                                                         
  static unsigned char qqqzzglobflag = 0;                                                                                                                                                                                                                           
  static void qqoutput(FILEPOINT char * s, int i);                                                                                                                                                                                                                  
  static void qqoutput2(FILEPOINT char * s, int i, int j);                                                                                                                                                                                                          
  static void qqoutput3(FILEPOINT char * s, int i, int j, int k);                                                                                                                                                                                                   
  static void qqoutput4(FILEPOINT char * s, int i, int j, int k, int l);                                                                                                                                                                                            
  static void qqoutput0(FILEPOINT char * s);                                                                                                                                                                                                                        
  static int swzzqqzz (int qqqi, int onoff);                                                                                                                                                                                                                        
  int main_50zqqzqz(qqnull_params);                                                                                                                                                                                                                                 
  int main_50zqqzqz1(qqnull_params);                                                                                                                                                                                                                                
  static int main_50zzqqzz (int qqqi);                                                                                                                                                                                                                              
  static int main_50zqendz (int qqqi);                                                                                                                                                                                                                              
  static int main_50zqzqzq (int qqqi) __attribute__((used));                                                                                                                                                                                                        
  static int main_50zzzqtz (int qqqa, int qqqb);                                                                                                                                                                                                                    
  static int main_50zzzqfz (int qqqa, int qqqb);                                                                                                                                                                                                                    
  static int main_50zzdo17 (int dummy,int a, int b);                                                                                                                                                                                                                
  void main_50zzdump (qqnull_params);                                                                                                                                                                                                                               
  void main_50zzzfun (int i);                                                                                                                                                                                                                                       
  void qqqupload (qqnull_params);                                                                                                                                                                                                                                   
  static void upload_execution_history (void); /*Diogo*/                                                                                                                                                                                                            
/* ------------------------------ END OF TESTBED PROTOTYPES -------------------------------- */                                                                                                                                                                     
                                                                                                                                                                                                                                                                    
/* OPEN FILE C:\_WorkSpace\Academic_Code\Keil_Projects\State Machine\state_machine.h */
/*------------------------------------------------------------------------
* file: state_machine.h
*----------------------------------------------------------------------*/
/*
 * Initialize State Machine
 */
 
void
  stateMachine ( void ) ;
/*
 * Initialize Variables of State Machine
 */
 
void
  sm_init ( void ) ;
 
/*   CLOSE_FILE Include File */
/* OPEN FILE C:\_WorkSpace\Academic_Code\Keil_Projects\State Machine\LED.h */
/*------------------------------------------------------------------------
* file: LED.h
*----------------------------------------------------------------------*/
/*
 * Initialize LED Port Pins
 */
 
void
  LED_Initialize ( void ) ;
/*
 * Set LED on
 */
 
void
  LED_On ( void ) ;
/*
 * Set LED off
 */
 
void
  LED_Off ( void ) ;
 
/*   CLOSE_FILE Include File */
#include <LPC22xx.H>
#include <STDIO.h>
 
int
  main ( void )
  {
  int mainzz = main_50zqqzqz1                                                                                       (); /* 46 */
    static volatile int
      count = 0 ;
    sm_init () ;
        //while (1) {
        // count++;
    stateMachine () ;
        //}
    main_50zqzqzq                                                                                        (       1 ) ; /* 34 */
  }
#define qqqbranches      1
#define QQQMAXMCDCSIZE      2
#define ldra_sscanf                                                                                                                                                                                                                                                 
  /* put in undefs to protect our parameter names from macros */                                                                                                                                                                                                    
#undef f                                                                                                                                                                                                                                                            
#undef i                                                                                                                                                                                                                                                            
#undef j                                                                                                                                                                                                                                                            
#undef k                                                                                                                                                                                                                                                            
#undef s                                                                                                                                                                                                                                                            
#undef l                                                                                                                                                                                                                                                            
#undef ii                                                                                                                                                                                                                                                           
#undef some                                                                                                                                                                                                                                                         
#undef none                                                                                                                                                                                                                                                         
#undef from                                                                                                                                                                                                                                                         
#undef a                                                                                                                                                                                                                                                            
#undef b                                                                                                                                                                                                                                                            
#undef iz                                                                                                                                                                                                                                                           
#undef jz                                                                                                                                                                                                                                                           
#undef qqnull_params                                                                                                                                                                                                                                                
#define qqnull_params void                                                                                                                                                                                                                                          
  /* Conventional Instrumentation */                                                                                                                                                                                                                                
#define qqzzidfield 1                                                                                                                                                                                                                                               
  /* single file or fileid */                                                                                                                                                                                                                                       
  /* these have an extra field for the fileid */                                                                                                                                                                                                                    
  static char qqqqone[]   = "%6d%6d\n";           /* single point */                                                                                                                                                                                                
/* MCDC nest level */                                                                                                                                                                                                                                               
  static int qqqmcdcnest = 0;                                                                                                                                                                                                                                       
/* Temporary mcdc suppression when stack overflowed */                                                                                                                                                                                                              
  static int qqqmcdcsuppress = 0;                                                                                                                                                                                                                                   
#define QQQMCDCSTACKSIZE 200                                                                                                                                                                                                                                        
  /* uncompressed data structures */                                                                                                                                                                                                                                
  /* uncompressed  bitmap */                                                                                                                                                                                                                                        
#define QQQFIXEDSIZE                                                                                                                                                                                                                                                
  static int qqqlast = 0;                                                                                                                                                                                                                                           
  static int qqqlastmcdc = 0;                                                                                                                                                                                                                                       
  static int qqqstoreused=-1;                                                                                                                                                                                                                                       
  typedef struct qqqstacktag {                                                                                                                                                                                                                                      
                               int mcdctrace;                                                                                                                                                                                                                       
                               int mcdcstr;                                                                                                                                                                                                                         
                               int lastmcdc;                                                                                                                                                                                                                        
                             } * qqqstack;                                                                                                                                                                                                                          
  static struct qqqstacktag qqqmcdcstack[QQQMCDCSTACKSIZE];                                                                                                                                                                                                         
  static int aqqqmcdcstore[QQQMAXMCDCSIZE];                                                                                                                                                                                                                         
  static int aqqqmcdctrace[31];                                                                                                                                                                                                                                     
  static int paqqqmcdctrace = -1;                                                                                                                                                                                                                                   
  static int paqqqmcdctrace1 = -1; /* Start of range in mcdctrace */                                                                                                                                                                                                
  static int paqqqmcdcstr;                                                                                                                                                                                                                                          
#define qqqbranches1   (qqqbranches+1)                                                                                                                                                                                                                              
  static int aqqqmcdcstr[qqqbranches1];                                                                                                                                                                                                                             
  static unsigned int bitmaparr[(qqqbranches/8)+1];                                                                                                                                                                                                                 
  unsigned int * qqzzglobarrb[QQQnumfil]; /*a*/                                                                                                                                                                                                                     
  int * qqzzglobarrp[QQQnumfil] = {0};                                                                                                                                                                                                                              
  int * qqzzglobarrs[QQQnumfil] = {0};                                                                                                                                                                                                                              
  short qqzzglobmax[QQQnumfil] = {0};                                                                                                                                                                                                                               
  short qqzzglobbrns[QQQnumfil] = {0};                                                                                                                                                                                                                              
  short qqzzglobfileid[QQQnumfil] = {0};                                                                                                                                                                                                                            
  int qqupload_registered = 0;                                                                                                                                                                                                                                      
  int main_50zqqzqz(qqnull_params);                                                                                                                                                                                                                                 
  int main_50zqqzqz1(qqnull_params);                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                                    
  /* ----------- zscanf ---------------------------------------------------* 202 *                                                                                                                                                                                  
   *        Returns an integer extracted from a string                                                                                                                                                                                                              
   * -----------------------------------------------------------------------------                                                                                                                                                                                  
   */                                                                                                                                                                                                                                                               
  static int main_50zscanf(char * qqscan_str)                                                                                                                                                                                                                       
  {                                                                                                                                                                                                                                                                 
    int qqvalue;                                                                                                                                                                                                                                                    
    int qqisign;                                                                                                                                                                                                                                                    
    char * qqcptr;                                                                                                                                                                                                                                                  
    qqvalue = 0;                                                                                                                                                                                                                                                    
    qqisign = 1;                                                                                                                                                                                                                                                    
    qqcptr  = qqscan_str;                                                                                                                                                                                                                                           
    /* Skip spaces */                                                                                                                                                                                                                                               
    while (qqcptr[0] == ' ')                                                                                                                                                                                                                                        
    {                                                                                                                                                                                                                                                               
      qqcptr++;                                                                                                                                                                                                                                                     
    }                                                                                                                                                                                                                                                               
    /* Check for a leading --- */                                                                                                                                                                                                                                   
    if (qqcptr[0] == '-')                                                                                                                                                                                                                                           
    {                                                                                                                                                                                                                                                               
      qqisign = -1;                                                                                                                                                                                                                                                 
      qqcptr++;                                                                                                                                                                                                                                                     
    }                                                                                                                                                                                                                                                               
    /* Extract digits */                                                                                                                                                                                                                                            
    while ((qqcptr[0] >= '0') && (qqcptr[0] <= '9'))                                                                                                                                                                                                                
    {                                                                                                                                                                                                                                                               
      qqvalue = 10 * qqvalue;                                                                                                                                                                                                                                       
      qqvalue = qqvalue + (qqcptr[0] - '0');                                                                                                                                                                                                                        
      qqcptr++;                                                                                                                                                                                                                                                     
    }                                                                                                                                                                                                                                                               
    qqvalue = qqisign * qqvalue;                                                                                                                                                                                                                                    
    return qqvalue;                                                                                                                                                                                                                                                 
  } /* end of zscanf */                                                                                                                                                                                                                                             
                                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                                    
  /* ----------------------------------------------------------------------* 215 *                                                                                                                                                                                  
   *            qqoutput                                                                                                                                                                                                                                            
   *    This is the principle output routine.                                                                                                                                                                                                                       
   * -----------------------------------------------------------------------------                                                                                                                                                                                  
   */                                                                                                                                                                                                                                                               
  static void qqoutput(FILEPOINT char * s, int i)                                                                                                                                                                                                                   
  {                                                                                                                                                                                                                                                                 
    /* not threaded */                                                                                                                                                                                                                                              
    /* not threaded, ( SINGLEFILE or FILEID ) */                                                                                                                                                                                                                    
    ldra_sprintf2 (&ldra_buffer[0], s,i,zzfileid);                                                                                                                                                                                                                  
    ldra_port_write (&ldra_buffer[0]);                                                                                                                                                                                                                              
  } /* end of qqoutput */                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                                    
  /* ----------------------------------------------------------------------* 216 *                                                                                                                                                                                  
   *            qqoutput0                                                                                                                                                                                                                                           
   * -----------------------------------------------------------------------------                                                                                                                                                                                  
   */                                                                                                                                                                                                                                                               
  static void qqoutput0(FILEPOINT char * s)                                                                                                                                                                                                                         
  {                                                                                                                                                                                                                                                                 
    ldra_port_write(s);                                                                                                                                                                                                                                             
  } /* end of qqoutput0 */                                                                                                                                                                                                                                          
	                                                                                                                                                                                                                                                                   
  /* ----------------------------------------------------------------------* 217 *                                                                                                                                                                                  
   *            qqoutput2                                                                                                                                                                                                                                           
   * -----------------------------------------------------------------------------                                                                                                                                                                                  
   */                                                                                                                                                                                                                                                               
  static void qqoutput2(FILEPOINT char * s, int i, int j)                                                                                                                                                                                                           
  {                                                                                                                                                                                                                                                                 
    ldra_sprintf2 (&ldra_buffer[0], s, i, j);                                                                                                                                                                                                                       
    ldra_port_write (&ldra_buffer[0]);                                                                                                                                                                                                                              
  } /* end of qqoutput2 */                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                                    
  /* ----------------------------------------------------------------------* 218 *                                                                                                                                                                                  
   *            qqoutput3                                                                                                                                                                                                                                           
   * -----------------------------------------------------------------------------                                                                                                                                                                                  
   */                                                                                                                                                                                                                                                               
  static void qqoutput3(FILEPOINT char * s, int i, int j, int k)                                                                                                                                                                                                    
  {                                                                                                                                                                                                                                                                 
    ldra_sprintf3 (&ldra_buffer[0], s, i, j, k);                                                                                                                                                                                                                    
    ldra_port_write (&ldra_buffer[0]);                                                                                                                                                                                                                              
  } /* end of qqoutput3 */                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                                    
  /* ----------------------------------------------------------------------* 219 *                                                                                                                                                                                  
   *            qqoutput4                                                                                                                                                                                                                                           
   * -----------------------------------------------------------------------------                                                                                                                                                                                  
   */                                                                                                                                                                                                                                                               
  static void qqoutput4(FILEPOINT char * s, int i, int j, int k, int l)                                                                                                                                                                                             
  {                                                                                                                                                                                                                                                                 
    ldra_sprintf4 (&ldra_buffer[0], s, i, j, k, l);                                                                                                                                                                                                                 
    ldra_port_write (&ldra_buffer[0]);                                                                                                                                                                                                                              
  } /* end of qqoutput4 */                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                                    
  /* ----------------------------------------------------------------------* 223 *                                                                                                                                                                                  
   *            qqqqinitialise                                                                                                                                                                                                                                      
   * This procedure initialises the structures for                                                                                                                                                                                                                  
   * compressed execution histories.                                                                                                                                                                                                                                
   * -----------------------------------------------------------------------------                                                                                                                                                                                  
   */                                                                                                                                                                                                                                                               
  static void qqqqinitialise(int ii)                                                                                                                                                                                                                                
  {                                                                                                                                                                                                                                                                 
    unsigned int i;                                                                                                                                                                                                                                                 
    /* First time through. */                                                                                                                                                                                                                                       
    /* bitmap */                                                                                                                                                                                                                                                    
    qqqstoreused = -1;                                                                                                                                                                                                                                              
    for (i=0; i<(qqqbranches/8)+1; i++)                                                                                                                                                                                                                             
    {                                                                                                                                                                                                                                                               
      bitmaparr[i] = 0;                                                                                                                                                                                                                                             
    }                                                                                                                                                                                                                                                               
    /* And so we don't optimise qqqupload() away */                                                                                                                                                                                                                 
    if (bitmaparr[0] != 0)                                                                                                                                                                                                                                          
    {                                                                                                                                                                                                                                                               
      qqqupload();                                                                                                                                                                                                                                                  
      upload_execution_history();                                                                                                                                                                                                                                   
    }                                                                                                                                                                                                                                                               
    /* bitmap separate */                                                                                                                                                                                                                                           
    qqqlast = 1; /* stops qqfun() calling initialise again */                                                                                                                                                                                                       
    for (i=0;i<qqqbranches1;i++)                                                                                                                                                                                                                                    
    {                                                                                                                                                                                                                                                               
      aqqqmcdcstr[i] = (-1);                                                                                                                                                                                                                                        
    }                                                                                                                                                                                                                                                               
    /* bitmap */                                                                                                                                                                                                                                                    
    /* bitmap singlefile */                                                                                                                                                                                                                                         
    /* bitmap singlefile mainfl */                                                                                                                                                                                                                                  
    for (i=0;i<QQQnumfil;i++)                                                                                                                                                                                                                                       
    {                                                                                                                                                                                                                                                               
      qqzzglobarrp[i] = (int *)0;/*1*/                                                                                                                                                                                                                              
    }                                                                                                                                                                                                                                                               
    qqzzglobarrb[0] = &bitmaparr[0];/*a*/                                                                                                                                                                                                                           
    qqzzglobarrp[0] = &aqqqmcdcstr[0];                                                                                                                                                                                                                              
    qqzzglobarrs[0] = &aqqqmcdcstore[0];                                                                                                                                                                                                                            
    qqzzglobmax[0]  = QQQMAXMCDCSIZE;                                                                                                                                                                                                                               
    for (i=1;i<QQQnumfil;i++)                                                                                                                                                                                                                                       
    {                                                                                                                                                                                                                                                               
      qqzzglobbrns[i] = 0;                                                                                                                                                                                                                                          
      qqzzglobarrb[i] = 0;                                                                                                                                                                                                                                          
    }                                                                                                                                                                                                                                                               
    qqzzglobbrns[0] = qqqbranches;                                                                                                                                                                                                                                  
    qqzzglobfileid[0] = (0,zzfileid); /* deliberate */                                                                                                                                                                                                              
  } /* end of qqqqinitialise */                                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                                    
  /* ----------- zzzfun ---------------------------------------------------* 226 *                                                                                                                                                                                  
   *  This routine handles hitmap storage of execution histories: this                                                                                                                                                                                              
   *  includes MC/DC storage for default bitmap.                                                                                                                                                                                                                    
   *                                                                                                                                                                                                                                                                
   *  It should not be possible for qqqstoreused to exceed                                                                                                                                                                                                          
   *  QQQMAXMCDCSIZE. However, it would be sensible to provide error                                                                                                                                                                                                
   *  traps at the marked locations if you are able to provide such                                                                                                                                                                                                 
   *  safety features.                                                                                                                                                                                                                                              
   * -----------------------------------------------------------------------------                                                                                                                                                                                  
   */                                                                                                                                                                                                                                                               
  void main_50zzzfun(int ii)                                                                                                                                                                                                                                        
  {                                                                                                                                                                                                                                                                 
    int i;                                                                                                                                                                                                                                                          
    int iz;                                                                                                                                                                                                                                                         
    i = ii;                                                                                                                                                                                                                                                         
    if ( i <= 0 )                                                                                                                                                                                                                                                   
    {                                                                                                                                                                                                                                                               
      /* MC/DC entry */                                                                                                                                                                                                                                             
      if ( qqqlast == 0 && qqqlastmcdc == 0 )                                                                                                                                                                                                                       
      {                                                                                                                                                                                                                                                             
        qqqqinitialise(i);                                                                                                                                                                                                                                          
      }                                                                                                                                                                                                                                                             
      i = -i;                                                                                                                                                                                                                                                       
      if ( QQQfirstmcdc == 1 )                                                                                                                                                                                                                                      
      {                                                                                                                                                                                                                                                             
        /* ----------------------------------------------------------------------* 227 *                                                                                                                                                                            
         * This is the first entry for a particular expression.  The structure                                                                                                                                                                                      
         * stores the complete sequence for a given expression. Then each of the                                                                                                                                                                                    
         * different sequences are overlaid with the common ones from left to right.                                                                                                                                                                                
         * -----------------------------------------------------------------------------                                                                                                                                                                            
         */                                                                                                                                                                                                                                                         
        /* ----------------------------------------------------------------------* 228 *                                                                                                                                                                            
         *            tree model for the sequences:                                                                                                                                                                                                                 
         *    node1 node2 node4                                                                                                                                                                                                                                     
         *    node1 node2 node5                                                                                                                                                                                                                                     
         *    node1 node3 node6                                                                                                                                                                                                                                     
         *    node1 node3 node7                                                                                                                                                                                                                                     
         *        fill the upper path first. The tree                                                                                                                                                                                                               
         *        is not necessarily full.                                                                                                                                                                                                                          
         *                                                                                                                                                                                                                                                          
         *                  node4                                                                                                                                                                                                                                   
         *            node2                                                                                                                                                                                                                                         
         *                  node5                                                                                                                                                                                                                                   
         *    node1                                                                                                                                                                                                                                                 
         *                  node6                                                                                                                                                                                                                                   
         *            node3                                                                                                                                                                                                                                         
         *                  node7                                                                                                                                                                                                                                   
         *    Linearised as:                                                                                                                                                                                                                                        
         *    node1, node2, node4 | node5 | node3, node6| node7 |                                                                                                                                                                                                   
         *       |      |__________|        |  |__________|                                                                                                                                                                                                         
         *       |__________________________|                                                                                                                                                                                                                       
         *                                                                                                                                                                                                                                                          
         * there is effectively a vector for each exprsn:                                                                                                                                                                                                           
         * and for each node there is a count and the node index,                                                                                                                                                                                                   
         * ( note that the first is not actually needed because                                                                                                                                                                                                     
         * it is the same as the row index.                                                                                                                                                                                                                         
         * |count|increment|node,count|increment|node,count|....                                                                                                                                                                                                    
         * The up case is the continuation and the down case uses the increment.                                                                                                                                                                                    
         * -----------------------------------------------------------------------------                                                                                                                                                                            
         */                                                                                                                                                                                                                                                         
        /* Check whether the index into the above structure has been set up. */                                                                                                                                                                                     
        if ( aqqqmcdcstr[i] == (-1) )                                                                                                                                                                                                                               
        {                                                                                                                                                                                                                                                           
          /* the first use of this branch */                                                                                                                                                                                                                        
          aqqqmcdcstr[i] = qqqstoreused+1;                                                                                                                                                                                                                          
          paqqqmcdcstr   = qqqstoreused+1;                                                                                                                                                                                                                          
          /* Reset trace start to start of range */                                                                                                                                                                                                                 
          paqqqmcdctrace = paqqqmcdctrace1;                                                                                                                                                                                                                         
          /* ----------------------------------------------------------------------* 229 *                                                                                                                                                                          
           * Error Trap                                                                                                                                                                                                                                             
           * Check qqqstoreused + 4 <= QQQMAXMCDCSIZE                                                                                                                                                                                                               
           * -----------------------------------------------------------------------------                                                                                                                                                                          
           */                                                                                                                                                                                                                                                       
          aqqqmcdcstore[qqqstoreused+1] = i;                                                                                                                                                                                                                        
          aqqqmcdcstore[qqqstoreused+2] = 1; /* count of first node */                                                                                                                                                                                              
          aqqqmcdcstore[qqqstoreused+3] = 0; /* increment */                                                                                                                                                                                                        
          aqqqmcdcstore[qqqstoreused+4] = 0; /* terminator */                                                                                                                                                                                                       
          qqqlastmcdc  = i;                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                                    
          /* ----------------------------------------------------------------------* 230 *                                                                                                                                                                          
           * Error Trap                                                                                                                                                                                                                                             
           * Check qqqstoreused + 4 < QQQMAXMCDCSIZE                                                                                                                                                                                                                
           * -----------------------------------------------------------------------------                                                                                                                                                                          
           */                                                                                                                                                                                                                                                       
          qqqstoreused = qqqstoreused + 4;                                                                                                                                                                                                                          
        }                                                                                                                                                                                                                                                           
        else                                                                                                                                                                                                                                                        
        {                                                                                                                                                                                                                                                           
          /* second or subsequent use of this sequence start point. */                                                                                                                                                                                              
          /* ----------------------------------------------------------------------* 232 *                                                                                                                                                                          
           *    node1, node2, node4 | node5 | node3, node6| node7 |                                                                                                                                                                                                 
           *       |      |__________|        |  |__________|                                                                                                                                                                                                       
           *       |__________________________|                                                                                                                                                                                                                     
           *                                                                                                                                                                                                                                                        
           *       0      1       2      3     4      5       6     7     8     9    10                                                                                                                                                                             
           *     count  increm  node   count increm  node   count   0   node   count  0                                                                                                                                                                             
           *      for     to    index   for   to     index   for        index  for                                                                                                                                                                                  
           *     node1  node3   node2  node2 node5   node4  node4       node5  node5                                                                                                                                                                                
           *                                                                                                                                                                                                                                                        
           * There are two ways to get to the end of an expression:                                                                                                                                                                                                 
           *   1. follow each element along in succesion, never having an                                                                                                                                                                                           
           *      increment greater than 1.                                                                                                                                                                                                                         
           *   2. Having followed at least one increment.                                                                                                                                                                                                           
           * On the way remember the last node whose value is                                                                                                                                                                                                       
           * -----------------------------------------------------------------------------                                                                                                                                                                          
           */                                                                                                                                                                                                                                                       
          /* Save trace of increment locations */                                                                                                                                                                                                                   
          paqqqmcdctrace++;                                                                                                                                                                                                                                         
          aqqqmcdctrace[paqqqmcdctrace] = aqqqmcdcstr[i] + 1;                                                                                                                                                                                                       
          paqqqmcdcstr = aqqqmcdcstr[i];                                                                                                                                                                                                                            
          qqqlastmcdc  = i;                                                                                                                                                                                                                                         
        }                                                                                                                                                                                                                                                           
      }                                                                                                                                                                                                                                                             
      else                                                                                                                                                                                                                                                          
      {                                                                                                                                                                                                                                                             
        /* one of many which belong to one expression. */                                                                                                                                                                                                           
        int incposition;                                                                                                                                                                                                                                            
        /* look at the up branch first */                                                                                                                                                                                                                           
        /* ----------------------------------------------------------------------* 233 *                                                                                                                                                                            
         *            paqqqmcdcstr                                                                                                                                                                                                                                  
         * points to position of last node index of this                                                                                                                                                                                                            
         * expression. It may be in the middle of existing sequences or not                                                                                                                                                                                         
         * -----------------------------------------------------------------------------                                                                                                                                                                            
         */                                                                                                                                                                                                                                                         
        incposition = paqqqmcdcstr + 2; /* points to terminator/continuation */                                                                                                                                                                                     
        if( aqqqmcdcstore[incposition] == 0 )                                                                                                                                                                                                                       
        {                                                                                                                                                                                                                                                           
          /* first successor is empty, end of expression so insert entry. */                                                                                                                                                                                        
          /* Check for a repeated sequence */                                                                                                                                                                                                                       
          if (paqqqmcdctrace > paqqqmcdctrace1)                                                                                                                                                                                                                     
          {                                                                                                                                                                                                                                                         
            /* Increment each node traversed */                                                                                                                                                                                                                     
            for (iz = paqqqmcdctrace1 + 1; iz < paqqqmcdctrace + 1; iz++)                                                                                                                                                                                           
            {                                                                                                                                                                                                                                                       
              aqqqmcdcstore[aqqqmcdctrace[iz]]++;                                                                                                                                                                                                                   
            }                                                                                                                                                                                                                                                       
            /* Reinitialise */                                                                                                                                                                                                                                      
            paqqqmcdctrace = paqqqmcdctrace1;                                                                                                                                                                                                                       
          }                                                                                                                                                                                                                                                         
          aqqqmcdcstore[incposition] = qqqstoreused+1;                                                                                                                                                                                                              
                                                                                                                                                                                                                                                                    
          /* ----------------------------------------------------------------------* 234 *                                                                                                                                                                          
           * Error Trap                                                                                                                                                                                                                                             
           * Check qqqstoreused + 4 <= QQQMAXMCDCSIZE                                                                                                                                                                                                               
           * -----------------------------------------------------------------------------                                                                                                                                                                          
           */                                                                                                                                                                                                                                                       
          aqqqmcdcstore[qqqstoreused+1] = i;                                                                                                                                                                                                                        
          aqqqmcdcstore[qqqstoreused+2] = 1;                                                                                                                                                                                                                        
          aqqqmcdcstore[qqqstoreused+3] = 0;                                                                                                                                                                                                                        
          aqqqmcdcstore[qqqstoreused+4] = 0;                                                                                                                                                                                                                        
          paqqqmcdcstr = qqqstoreused+1;                                                                                                                                                                                                                            
          /* ----------------------------------------------------------------------* 235 *                                                                                                                                                                          
           * Error Trap                                                                                                                                                                                                                                             
           * Check qqqstoreused + 4 < QQQMAXMCDCSIZE                                                                                                                                                                                                                
           * -----------------------------------------------------------------------------                                                                                                                                                                          
           */                                                                                                                                                                                                                                                       
          qqqstoreused = qqqstoreused + 4;                                                                                                                                                                                                                          
        }                                                                                                                                                                                                                                                           
        else                                                                                                                                                                                                                                                        
        {                                                                                                                                                                                                                                                           
          /* there is an up node, check if it is the same as the current node */                                                                                                                                                                                    
          if ( aqqqmcdcstore[aqqqmcdcstore[incposition]] == i )                                                                                                                                                                                                     
          {                                                                                                                                                                                                                                                         
            /* its the same node */                                                                                                                                                                                                                                 
            paqqqmcdcstr = aqqqmcdcstore[incposition];                                                                                                                                                                                                              
            /* Check whether to record an increment */                                                                                                                                                                                                              
            if (paqqqmcdctrace > paqqqmcdctrace1)                                                                                                                                                                                                                   
            {                                                                                                                                                                                                                                                       
              paqqqmcdctrace++;                                                                                                                                                                                                                                     
              aqqqmcdctrace[paqqqmcdctrace] = paqqqmcdcstr + 1;                                                                                                                                                                                                     
            }                                                                                                                                                                                                                                                       
          }                                                                                                                                                                                                                                                         
          else if ( aqqqmcdcstore[aqqqmcdcstore[incposition+1]] == i )                                                                                                                                                                                              
          {                                                                                                                                                                                                                                                         
            /* check the down node */                                                                                                                                                                                                                               
            /* its the same node */                                                                                                                                                                                                                                 
            paqqqmcdcstr = aqqqmcdcstore[incposition+1];                                                                                                                                                                                                            
            /* Check whether to record an increment */                                                                                                                                                                                                              
            if (paqqqmcdctrace > paqqqmcdctrace1)                                                                                                                                                                                                                   
            {                                                                                                                                                                                                                                                       
              paqqqmcdctrace++;                                                                                                                                                                                                                                     
              aqqqmcdctrace[paqqqmcdctrace] = paqqqmcdcstr + 1;                                                                                                                                                                                                     
            }                                                                                                                                                                                                                                                       
          }                                                                                                                                                                                                                                                         
          else                                                                                                                                                                                                                                                      
          {                                                                                                                                                                                                                                                         
            /* second successor is empty, end of expression so inset entry. */                                                                                                                                                                                      
            /* Check for a repeated saved sequence */                                                                                                                                                                                                               
            if (paqqqmcdctrace > paqqqmcdctrace1)                                                                                                                                                                                                                   
            {                                                                                                                                                                                                                                                       
              /* Increment each node traversed */                                                                                                                                                                                                                   
              for (iz = paqqqmcdctrace1 + 1; iz < paqqqmcdctrace + 1; iz++)                                                                                                                                                                                         
              {                                                                                                                                                                                                                                                     
                aqqqmcdcstore[aqqqmcdctrace[iz]]++;                                                                                                                                                                                                                 
              }                                                                                                                                                                                                                                                     
              /* Reinitialise */                                                                                                                                                                                                                                    
              paqqqmcdctrace = paqqqmcdctrace1;                                                                                                                                                                                                                     
            }                                                                                                                                                                                                                                                       
            aqqqmcdcstore[incposition+1] = qqqstoreused+1;                                                                                                                                                                                                          
            /* ----------------------------------------------------------------------* 236 *                                                                                                                                                                        
             * Error Trap                                                                                                                                                                                                                                           
             * Check qqqstoreused + 4 <= QQQMAXMCDCSIZE                                                                                                                                                                                                             
             * -----------------------------------------------------------------------------                                                                                                                                                                        
             */                                                                                                                                                                                                                                                     
            aqqqmcdcstore[qqqstoreused+1] = i;                                                                                                                                                                                                                      
            aqqqmcdcstore[qqqstoreused+2] = 1;                                                                                                                                                                                                                      
            aqqqmcdcstore[qqqstoreused+3] = 0;                                                                                                                                                                                                                      
            aqqqmcdcstore[qqqstoreused+4] = 0;                                                                                                                                                                                                                      
            paqqqmcdcstr = qqqstoreused+1;                                                                                                                                                                                                                          
            /* ----------------------------------------------------------------------* 237 *                                                                                                                                                                        
             * Error Trap                                                                                                                                                                                                                                           
             * Check qqqstoreused + 4 < QQQMAXMCDCSIZE                                                                                                                                                                                                              
             * -----------------------------------------------------------------------------                                                                                                                                                                        
             */                                                                                                                                                                                                                                                     
            qqqstoreused = qqqstoreused + 4;                                                                                                                                                                                                                        
          }                                                                                                                                                                                                                                                         
        }                                                                                                                                                                                                                                                           
      }                                                                                                                                                                                                                                                             
    }                                                                                                                                                                                                                                                               
    else                                                                                                                                                                                                                                                            
    {                                                                                                                                                                                                                                                               
    ;                                                                                                                                                                                                                                                               
    }                                                                                                                                                                                                                                                               
  } /* end of fun */                                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                                    
  /* ----------------------------------------------------------------------* 247 *                                                                                                                                                                                  
   *            qqqzzuploadmcdc                                                                                                                                                                                                                                     
   * This routine uploads the MC/DC sequences from compressed execution                                                                                                                                                                                             
   * or bitmap histories which use separate storage.                                                                                                                                                                                                                
   * -----------------------------------------------------------------------------                                                                                                                                                                                  
   */                                                                                                                                                                                                                                                               
void qqqzzuploadmcdc(int paqqqmcdcstr[], int paqqqmcdcstore[], int qqqbrns,                                                                                                                                                                                         
                       int pfileid, int pqqqmaxmcdcsize)                                                                                                                                                                                                            
  {                                                                                                                                                                                                                                                                 
    int i,depth,dirn,entrycount,marker;                                                                                                                                                                                                                             
    entrycount = 0;                                                                                                                                                                                                                                                 
    marker = 0;                                                                                                                                                                                                                                                     
    /* upload for fixed size mcdc */                                                                                                                                                                                                                                
    if (paqqqmcdcstr == (int*)(0))                                                                                                                                                                                                                                  
    {                                                                                                                                                                                                                                                               
      /* NULL entry implying no MC/DC information for this file, just return */                                                                                                                                                                                     
      return;                                                                                                                                                                                                                                                       
    }                                                                                                                                                                                                                                                               
    for ( i=0; i<=qqqbrns; i++ )                                                                                                                                                                                                                                    
    {                                                                                                                                                                                                                                                               
      if ( paqqqmcdcstr[i] != (-1) )                                                                                                                                                                                                                                
      {                                                                                                                                                                                                                                                             
        int nodeptr,firstnodeptr,temp;                                                                                                                                                                                                                              
        if( marker == 0 )                                                                                                                                                                                                                                           
        {                                                                                                                                                                                                                                                           
          /* Bitmap MC/DC separation marker with file ID */                                                                                                                                                                                                         
          qqoutput4(                                                                                                                                                                                                                                                
            "%8d%8d%8d%8d\n", (-1),pfileid,(-1),(-1) );                                                                                                                                                                                                             
          marker = 1;                                                                                                                                                                                                                                               
        }                                                                                                                                                                                                                                                           
        nodeptr = paqqqmcdcstr[i];                                                                                                                                                                                                                                  
        firstnodeptr = nodeptr;                                                                                                                                                                                                                                     
mcdcloop:                                                                                                                                                                                                                                                           
        if (entrycount == 10 )                                                                                                                                                                                                                                      
        {                                                                                                                                                                                                                                                           
          qqoutput0(                                                                                                                                                                                                                                                
            "\n");                                                                                                                                                                                                                                                  
          entrycount = 0;                                                                                                                                                                                                                                           
        }                                                                                                                                                                                                                                                           
        else if( entrycount == qqzzidfield)                                                                                                                                                                                                                         
        {                                                                                                                                                                                                                                                           
          qqoutput(                                                                                                                                                                                                                                                 
            "%8d",pfileid);                                                                                                                                                                                                                                         
          entrycount++;                                                                                                                                                                                                                                             
        }                                                                                                                                                                                                                                                           
        qqoutput(                                                                                                                                                                                                                                                   
          "%8d",paqqqmcdcstore[nodeptr]);                                                                                                                                                                                                                           
        paqqqmcdcstore[nodeptr+1]--;                                                                                                                                                                                                                                
        entrycount++;                                                                                                                                                                                                                                               
        if ( paqqqmcdcstore[nodeptr+2] > 0 )                                                                                                                                                                                                                        
        {                                                                                                                                                                                                                                                           
          /* follow up ptr */                                                                                                                                                                                                                                       
          temp = nodeptr;                                                                                                                                                                                                                                           
          nodeptr = paqqqmcdcstore[nodeptr+2];                                                                                                                                                                                                                      
          if ( paqqqmcdcstore[nodeptr+1] == 1)                                                                                                                                                                                                                      
          {                                                                                                                                                                                                                                                         
            paqqqmcdcstore[temp+2] = 0;                                                                                                                                                                                                                             
          }                                                                                                                                                                                                                                                         
          goto mcdcloop;                                                                                                                                                                                                                                            
        }                                                                                                                                                                                                                                                           
        else if ( paqqqmcdcstore[nodeptr+3] > 0 )                                                                                                                                                                                                                   
        {                                                                                                                                                                                                                                                           
          /* follow down ptr */                                                                                                                                                                                                                                     
          temp = nodeptr;                                                                                                                                                                                                                                           
          nodeptr = paqqqmcdcstore[nodeptr+3];                                                                                                                                                                                                                      
          if ( paqqqmcdcstore[nodeptr+1] == 1)                                                                                                                                                                                                                      
          {                                                                                                                                                                                                                                                         
            paqqqmcdcstore[temp+3] = 0;                                                                                                                                                                                                                             
          }                                                                                                                                                                                                                                                         
          goto mcdcloop;                                                                                                                                                                                                                                            
        }                                                                                                                                                                                                                                                           
        else                                                                                                                                                                                                                                                        
        {                                                                                                                                                                                                                                                           
          /* both qzero, end of expression */                                                                                                                                                                                                                       
          if ( paqqqmcdcstore[firstnodeptr+1] > 0 )                                                                                                                                                                                                                 
          {                                                                                                                                                                                                                                                         
            nodeptr = firstnodeptr;                                                                                                                                                                                                                                 
            goto mcdcloop;                                                                                                                                                                                                                                          
          }                                                                                                                                                                                                                                                         
        }                                                                                                                                                                                                                                                           
      }                                                                                                                                                                                                                                                             
    }                                                                                                                                                                                                                                                               
    /* end of processing, now tidyup */                                                                                                                                                                                                                             
    if ( marker == 1 && entrycount != 0 )                                                                                                                                                                                                                           
    {                                                                                                                                                                                                                                                               
      if ( entrycount == qqzzidfield)                                                                                                                                                                                                                               
      {                                                                                                                                                                                                                                                             
        qqoutput(                                                                                                                                                                                                                                                   
          "%8d",pfileid);                                                                                                                                                                                                                                           
        entrycount++;                                                                                                                                                                                                                                               
      }                                                                                                                                                                                                                                                             
      qqoutput(                                                                                                                                                                                                                                                     
        "%8d",0);                                                                                                                                                                                                                                                   
      entrycount++;                                                                                                                                                                                                                                                 
    }                                                                                                                                                                                                                                                               
    /* common to both fixed and variable size storage */                                                                                                                                                                                                            
    if ( entrycount != 0 )                                                                                                                                                                                                                                          
    {                                                                                                                                                                                                                                                               
      if ( entrycount < 4 )                                                                                                                                                                                                                                         
      {                                                                                                                                                                                                                                                             
        while ( entrycount < 3 )                                                                                                                                                                                                                                    
        {                                                                                                                                                                                                                                                           
          qqoutput(                                                                                                                                                                                                                                                 
            "%8d",0);                                                                                                                                                                                                                                               
          entrycount++;                                                                                                                                                                                                                                             
        }                                                                                                                                                                                                                                                           
        qqoutput2(                                                                                                                                                                                                                                                  
          "%8d%8d",pfileid,0);                                                                                                                                                                                                                                      
      }                                                                                                                                                                                                                                                             
      qqoutput4(                                                                                                                                                                                                                                                    
        "\n%8d%8d%8d%8d\n", 0,pfileid,0,0 );                                                                                                                                                                                                                        
    }                                                                                                                                                                                                                                                               
    else                                                                                                                                                                                                                                                            
    {                                                                                                                                                                                                                                                               
      qqoutput4(                                                                                                                                                                                                                                                    
        "%8d%8d%8d%8d\n", 0,pfileid,0,0 );                                                                                                                                                                                                                          
    }                                                                                                                                                                                                                                                               
    qqqlastmcdc = 0;                                                                                                                                                                                                                                                
    QQQindicator = 0;                                                                                                                                                                                                                                               
    marker = 0;                                                                                                                                                                                                                                                     
  } /* end of uploadmcdc */                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                                    
#undef QQQTEMP1                                                                                                                                                                                                                                                     
#define QQQTEMP1                                                                                                                                                                                                                                                    
  /* ----------- zqqzqz ---------------------------------------------------* 310 *                                                                                                                                                                                  
   * -----------------------------------------------------------------------------                                                                                                                                                                                  
   */                                                                                                                                                                                                                                                               
  /* ----------------------------------------------------------------------* 312 *                                                                                                                                                                                  
   * This routine opens the execution history file. It is instrumented at the                                                                                                                                                                                       
   * start of the main program if one exists in the file. In general this is                                                                                                                                                                                        
   * superceded by main_50zqqzqz1 below.                                                                                                                                                                                                                            
   * -----------------------------------------------------------------------------                                                                                                                                                                                  
   */                                                                                                                                                                                                                                                               
  int main_50zqqzqz(qqnull_params)                                                                                                                                                                                                                                  
  {                                                                                                                                                                                                                                                                 
    if ( main_50zzopen != 1 )                                                                                                                                                                                                                                       
    {                                                                                                                                                                                                                                                               
      ldra_port_open();  /*314*/                                                                                                                                                                                                                                    
      main_50zzopen = 1;                                                                                                                                                                                                                                            
    }                                                                                                                                                                                                                                                               
    return(1);                                                                                                                                                                                                                                                      
  } /* end of zqqzqz */                                                                                                                                                                                                                                             
                                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                                    
  /* ----------- zqqzqz1 --------------------------------------------------* 316 *                                                                                                                                                                                  
   * -----------------------------------------------------------------------------                                                                                                                                                                                  
   */                                                                                                                                                                                                                                                               
  /* ----------------------------------------------------------------------* 318 *                                                                                                                                                                                  
   * This routine also opens the execution history file.  It is called                                                                                                                                                                                              
   * automatically if a probe fires and the execution history is not already                                                                                                                                                                                        
   * opened (main_50zzopen = 0 ).                                                                                                                                                                                                                                   
   * Because this always works ( it was intended for files with no main program                                                                                                                                                                                     
   * it is now the de facto common way to open the execution history.                                                                                                                                                                                               
   * -----------------------------------------------------------------------------                                                                                                                                                                                  
   */                                                                                                                                                                                                                                                               
  int main_50zqqzqz1(qqnull_params)                                                                                                                                                                                                                                 
  {                                                                                                                                                                                                                                                                 
    if ( main_50zzopen != 1 )                                                                                                                                                                                                                                       
    {                                                                                                                                                                                                                                                               
      ldra_port_open();  /*7*/                                                                                                                                                                                                                                      
      qqqqinitialise(0);                                                                                                                                                                                                                                            
      main_50zzopen = 1;                                                                                                                                                                                                                                            
    }                                                                                                                                                                                                                                                               
    return(1);                                                                                                                                                                                                                                                      
  } /* end of zqqzqz1 */                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                                    
  /* ----------- zzqqzz ---------------------------------------------------* 322 *                                                                                                                                                                                  
   * -----------------------------------------------------------------------------                                                                                                                                                                                  
   */                                                                                                                                                                                                                                                               
  /* ----------------------------------------------------------------------* 324 *                                                                                                                                                                                  
   *            This is the routine which usually puts an integer into                                                                                                                                                                                              
   * the execution history file and returns unity.                                                                                                                                                                                                                  
   * This routine is the primary routine for gathering                                                                                                                                                                                                              
   * the execution history. Note that the last entry                                                                                                                                                                                                                
   * is usually inserted by main_50zqzqzq.                                                                                                                                                                                                                          
   * -----------------------------------------------------------------------------                                                                                                                                                                                  
   */                                                                                                                                                                                                                                                               
  static int main_50zzqqzz(int qqqi)                                                                                                                                                                                                                                
  {                                                                                                                                                                                                                                                                 
    if ( main_50zzopen != 1 )                                                                                                                                                                                                                                       
    {                                                                                                                                                                                                                                                               
      main_50zqqzqz1();                                                                                                                                                                                                                                             
    }                                                                                                                                                                                                                                                               
    if ( main_50zzopen )                                                                                                                                                                                                                                            
    {                                                                                                                                                                                                                                                               
      /* bitmap */                                                                                                                                                                                                                                                  
      if ( qqqi > 0 )                                                                                                                                                                                                                                               
      {                                                                                                                                                                                                                                                             
         /* Standard probe */                                                                                                                                                                                                                                       
        bitmaparr[((qqqi-1) >> 3)] |= (1<<((qqqi-1) & 0x07));                                                                                                                                                                                                       
      }                                                                                                                                                                                                                                                             
      else                                                                                                                                                                                                                                                          
      {                                                                                                                                                                                                                                                             
        /* MC/DC probe */                                                                                                                                                                                                                                           
        if (qqqmcdcsuppress == 0)                                                                                                                                                                                                                                   
        {                                                                                                                                                                                                                                                           
          main_50zzzfun(qqqi);                                                                                                                                                                                                                                      
        }                                                                                                                                                                                                                                                           
      }                                                                                                                                                                                                                                                             
    }                                                                                                                                                                                                                                                               
    return(1);                                                                                                                                                                                                                                                      
  } /* end of zzqqzz */                                                                                                                                                                                                                                             
                                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                                    
  /* ----------- zqendz ---------------------------------------------------* 331 *                                                                                                                                                                                  
   * This routine is called on exiting a routine in a                                                                                                                                                                                                               
   * module. It closes the execution history.                                                                                                                                                                                                                       
   * -----------------------------------------------------------------------------                                                                                                                                                                                  
   */                                                                                                                                                                                                                                                               
  static int main_50zqendz(int qqqi)                                                                                                                                                                                                                                
  {                                                                                                                                                                                                                                                                 
    if ( main_50zzopen != 1 )                                                                                                                                                                                                                                       
    {                                                                                                                                                                                                                                                               
      main_50zqqzqz1();                                                                                                                                                                                                                                             
    }                                                                                                                                                                                                                                                               
    /* ----------------------------------------------------------------------* 332 *                                                                                                                                                                                
     * this is the one which puts an integer into                                                                                                                                                                                                                   
     * the execution history file and returns unity.                                                                                                                                                                                                                
     * The format of each field consists of six columns,                                                                                                                                                                                                            
     * the number is right justified in this field.                                                                                                                                                                                                                 
     * -----------------------------------------------------------------------------                                                                                                                                                                                
     */                                                                                                                                                                                                                                                             
    if ( main_50zzopen )                                                                                                                                                                                                                                            
    {                                                                                                                                                                                                                                                               
      /* uncompressed */                                                                                                                                                                                                                                            
      /* uncompressed unbuffered */                                                                                                                                                                                                                                 
      /* uncompressed unbuffered bitmap */                                                                                                                                                                                                                          
      if ( qqqi > 0 )                                                                                                                                                                                                                                               
      {                                                                                                                                                                                                                                                             
        bitmaparr[((qqqi-1) >> 3)] |= (1<<((qqqi-1) & 0x07));                                                                                                                                                                                                       
      }                                                                                                                                                                                                                                                             
      else                                                                                                                                                                                                                                                          
      {                                                                                                                                                                                                                                                             
        if (qqqmcdcsuppress == 0)                                                                                                                                                                                                                                   
        {                                                                                                                                                                                                                                                           
          main_50zzzfun(qqqi);                                                                                                                                                                                                                                      
        }                                                                                                                                                                                                                                                           
      }                                                                                                                                                                                                                                                             
    }                                                                                                                                                                                                                                                               
    /* unbuffered nonsinglefile or mainfl */                                                                                                                                                                                                                        
    /* unbuffered (nonsinglefile or mainfl) bitmap */                                                                                                                                                                                                               
    /* upload the bit map after inserting final entry */                                                                                                                                                                                                            
    if ( qqqi > 0 )                                                                                                                                                                                                                                                 
    {                                                                                                                                                                                                                                                               
      bitmaparr[((qqqi-1) >> 3)] |= (1<<((qqqi-1) & 0x07));                                                                                                                                                                                                         
    }                                                                                                                                                                                                                                                               
    else                                                                                                                                                                                                                                                            
    {                                                                                                                                                                                                                                                               
      if (qqqmcdcsuppress == 0)                                                                                                                                                                                                                                     
      {                                                                                                                                                                                                                                                             
        main_50zzzfun(qqqi);                                                                                                                                                                                                                                        
      }                                                                                                                                                                                                                                                             
    }                                                                                                                                                                                                                                                               
    /*  clear qqqlast for reentry */                                                                                                                                                                                                                                
    qqqlast = 0;                                                                                                                                                                                                                                                    
    /* If not using atexit to register the bitmap upload                                                                                                                                                                                                            
       function must call upload function here */                                                                                                                                                                                                                   
    upload_execution_history();                                                                                                                                                                                                                                     
    return(1);                                                                                                                                                                                                                                                      
  } /* end of zqendz */                                                                                                                                                                                                                                             
                                                                                                                                                                                                                                                                    
  /*                                                                                                                                                                                                                                                                
   * Function that is invoked from a script to force upload of execution history                                                                                                                                                                                    
   */                                                                                                                                                                                                                                                               
#define UPLOAD_EXECUTION_HISTORY                                                                                                                                                                                                                                    
  void upload_execution_history(qqnull_params) {                                                                                                                                                                                                                    
    qqqupload();                                                                                                                                                                                                                                                    
    ldra_port_close();                                                                                                                                                                                                                                              
  } /* end of upload_execution_history */                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                                    
 /* ----------------------------------------------------------------------* 335 *                                                                                                                                                                                   
  *            qqqupload                                                                                                                                                                                                                                            
  * This routine loops through the stored bitmap and                                                                                                                                                                                                                
  * outputs it. It then uploads the stored mcdc.                                                                                                                                                                                                                    
  * -----------------------------------------------------------------------------                                                                                                                                                                                   
  */                                                                                                                                                                                                                                                                
void qqqupload(qqnull_params)                                                                                                                                                                                                                                       
  {                                                                                                                                                                                                                                                                 
    int i;                                                                                                                                                                                                                                                          
    ldra_send_start_message();                                                                                                                                                                                                                                      
    /* clear qqqlast for re-entry */                                                                                                                                                                                                                                
    /* uncompressed  bitmap, singlefile and mainfl */                                                                                                                                                                                                               
    qqqlast = 0;                                                                                                                                                                                                                                                    
    /* globally stored bitmap amd mcdc are output */                                                                                                                                                                                                                
    {                                                                                                                                                                                                                                                               
      int j;                                                                                                                                                                                                                                                        
      unsigned int* pbitmaparr;                                                                                                                                                                                                                                     
      i=0;                                                                                                                                                                                                                                                          
      while ( qqzzglobbrns[i] != 0 )                                                                                                                                                                                                                                
      {                                                                                                                                                                                                                                                             
        for (j=0; j<(qqzzglobbrns[i]/8)+1; j++)                                                                                                                                                                                                                     
        {                                                                                                                                                                                                                                                           
          pbitmaparr = qqzzglobarrb[i];                                                                                                                                                                                                                             
          qqoutput2("%8d%8d\n", pbitmaparr[j], qqzzglobfileid[i]);                                                                                                                                                                                                  
        }                                                                                                                                                                                                                                                           
        qqqzzuploadmcdc(qqzzglobarrp[i], qqzzglobarrs[i], qqzzglobbrns[i], qqzzglobfileid[i], qqzzglobmax[i]);                                                                                                                                                      
        i++;                                                                                                                                                                                                                                                        
      }                                                                                                                                                                                                                                                             
    }                                                                                                                                                                                                                                                               
    qqqlast = 0;                                                                                                                                                                                                                                                    
  } /* end of qqqupload */                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                                    
  /* ----------- zqzqzq ---------------------------------------------------* 341 *                                                                                                                                                                                  
   * -----------------------------------------------------------------------------                                                                                                                                                                                  
   */                                                                                                                                                                                                                                                               
  /* ----------------------------------------------------------------------* 343 *                                                                                                                                                                                  
   * This routine should be called before the program                                                                                                                                                                                                               
   * terminates. It closes the execution history                                                                                                                                                                                                                    
   * -----------------------------------------------------------------------------                                                                                                                                                                                  
   */                                                                                                                                                                                                                                                               
  static int main_50zqzqzq(int qqqi)                                                                                                                                                                                                                                
  {                                                                                                                                                                                                                                                                 
    if ( main_50zzopen != 1 )                                                                                                                                                                                                                                       
    {                                                                                                                                                                                                                                                               
      main_50zqqzqz1();                                                                                                                                                                                                                                             
    }                                                                                                                                                                                                                                                               
    /* not compressed */                                                                                                                                                                                                                                            
    /* do nothing for bitmap*/                                                                                                                                                                                                                                      
    /* upload the history */                                                                                                                                                                                                                                        
    /* bitmap */                                                                                                                                                                                                                                                    
    /* uncompressed bitmap */                                                                                                                                                                                                                                       
    main_50zqendz(qqqi);                                                                                                                                                                                                                                            
    /* qqqupload closes the execution history file */                                                                                                                                                                                                               
    return(1);                                                                                                                                                                                                                                                      
  } /* end of zqzqzq */                                                                                                                                                                                                                                             
                                                                                                                                                                                                                                                                    
  /*   the following routines should be left alone */                                                                                                                                                                                                               
                                                                                                                                                                                                                                                                    
  /* ----------------------------------------------------------------------* 354 *                                                                                                                                                                                  
   *            main_50zzzqtz                                                                                                                                                                                                                                       
   * This routine captures the value of an expression                                                                                                                                                                                                               
   * and then returns a jump if the value is not 0.                                                                                                                                                                                                                 
   *                                                                                                                                                                                                                                                                
   *   qqqa - value of expression                                                                                                                                                                                                                                   
   *   qqqb - jump table index.                                                                                                                                                                                                                                     
   * -----------------------------------------------------------------------------                                                                                                                                                                                  
   */                                                                                                                                                                                                                                                               
  static int main_50zzzqtz(int qqqa, int qqqb)                                                                                                                                                                                                                      
  {                                                                                                                                                                                                                                                                 
    if (qqqa)                                                                                                                                                                                                                                                       
    {                                                                                                                                                                                                                                                               
        main_50zzqqzz(qqqb);                                                                                                                                                                                                                                        
      }                                                                                                                                                                                                                                                             
      else                                                                                                                                                                                                                                                          
      {                                                                                                                                                                                                                                                             
        /* straight on jump */                                                                                                                                                                                                                                      
        main_50zzqqzz(qqqb-1);                                                                                                                                                                                                                                      
      }                                                                                                                                                                                                                                                             
    return(qqqa);                                                                                                                                                                                                                                                   
  } /* end of zzzqtz */                                                                                                                                                                                                                                             
                                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                                    
  /* ----------------------------------------------------------------------* 355 *                                                                                                                                                                                  
   *            main_50zzzqfz                                                                                                                                                                                                                                       
   * This routine captures the value of an expression                                                                                                                                                                                                               
   * and then returns a jump if the value is 0.                                                                                                                                                                                                                     
   *                                                                                                                                                                                                                                                                
   *  qqqa - value of expression                                                                                                                                                                                                                                    
   *  qqqb - jump table index.                                                                                                                                                                                                                                      
   * -----------------------------------------------------------------------------                                                                                                                                                                                  
   */                                                                                                                                                                                                                                                               
  static int main_50zzzqfz(int qqqa,int qqqb)                                                                                                                                                                                                                       
  {                                                                                                                                                                                                                                                                 
    if (qqqa)                                                                                                                                                                                                                                                       
    {                                                                                                                                                                                                                                                               
      /* straight on jump */                                                                                                                                                                                                                                        
      main_50zzqqzz(qqqb-1);                                                                                                                                                                                                                                        
      return(qqqa);                                                                                                                                                                                                                                                 
    }                                                                                                                                                                                                                                                               
    else                                                                                                                                                                                                                                                            
    {                                                                                                                                                                                                                                                               
      main_50zzqqzz(qqqb);                                                                                                                                                                                                                                          
    }                                                                                                                                                                                                                                                               
    return(qqqa);                                                                                                                                                                                                                                                   
  } /* end of zzzqfz */                                                                                                                                                                                                                                             
                                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                                    
  /* ----------------------------------------------------------------------* 356 *                                                                                                                                                                                  
   *            main_50zzdo17                                                                                                                                                                                                                                       
   * -----------------------------------------------------------------------------                                                                                                                                                                                  
   */                                                                                                                                                                                                                                                               
  static int main_50zzdo17(                                                                                                                                                                                                                                         
    int qqzdummy, int a, int b)                                                                                                                                                                                                                                     
  {                                                                                                                                                                                                                                                                 
    /* Check for a new start */                                                                                                                                                                                                                                     
    if (qqzdummy == 1)                                                                                                                                                                                                                                              
    {                                                                                                                                                                                                                                                               
      /* Check within stack bounds */                                                                                                                                                                                                                               
      if (qqqmcdcnest < QQQMCDCSTACKSIZE)                                                                                                                                                                                                                           
      {                                                                                                                                                                                                                                                             
        /* Save current details */                                                                                                                                                                                                                                  
        qqqmcdcstack [qqqmcdcnest].mcdctrace = paqqqmcdctrace1;                                                                                                                                                                                                     
        qqqmcdcstack [qqqmcdcnest].mcdcstr = paqqqmcdcstr;                                                                                                                                                                                                          
        qqqmcdcstack [qqqmcdcnest].lastmcdc = qqqlastmcdc;                                                                                                                                                                                                          
        /* Reset the trace start point */                                                                                                                                                                                                                           
        paqqqmcdctrace1 = paqqqmcdctrace;                                                                                                                                                                                                                           
        /* Increment the level */                                                                                                                                                                                                                                   
        qqqmcdcnest++;                                                                                                                                                                                                                                              
        /* Check bounds again */                                                                                                                                                                                                                                    
        if (qqqmcdcnest == QQQMCDCSTACKSIZE)                                                                                                                                                                                                                        
        {                                                                                                                                                                                                                                                           
          /* Suppress MC/DC checks until the stack is back in range */                                                                                                                                                                                              
          qqqmcdcsuppress = 1;                                                                                                                                                                                                                                      
        }                                                                                                                                                                                                                                                           
        /* Indicate at the start of a new expression */                                                                                                                                                                                                             
        QQQindicator = 1;                                                                                                                                                                                                                                           
        QQQfirstmcdc = 1;                                                                                                                                                                                                                                           
        paqqqmcdcstr = 0;                                                                                                                                                                                                                                           
        /* qqqlastmcdc = 0; */                                                                                                                                                                                                                                      
      }                                                                                                                                                                                                                                                             
    }                                                                                                                                                                                                                                                               
    if ( a )                                                                                                                                                                                                                                                        
    {                                                                                                                                                                                                                                                               
      main_50zzqqzz(1-b);                                                                                                                                                                                                                                           
    }                                                                                                                                                                                                                                                               
    else                                                                                                                                                                                                                                                            
    {                                                                                                                                                                                                                                                               
      main_50zzqqzz(-b);                                                                                                                                                                                                                                            
    }                                                                                                                                                                                                                                                               
    if ( QQQfirstmcdc == 1)                                                                                                                                                                                                                                         
    {                                                                                                                                                                                                                                                               
      QQQfirstmcdc = 0;                                                                                                                                                                                                                                             
      QQQindicator = qqzdummy + 1;                                                                                                                                                                                                                                  
    }                                                                                                                                                                                                                                                               
    else                                                                                                                                                                                                                                                            
    {                                                                                                                                                                                                                                                               
      QQQindicator = qqzdummy+1;                                                                                                                                                                                                                                    
    }                                                                                                                                                                                                                                                               
    if ( qqzdummy == 0 )                                                                                                                                                                                                                                            
    {                                                                                                                                                                                                                                                               
      QQQfirstmcdc = 1;                                                                                                                                                                                                                                             
    }                                                                                                                                                                                                                                                               
    /* Check for an end */                                                                                                                                                                                                                                          
    if (qqzdummy == 0)                                                                                                                                                                                                                                              
    {                                                                                                                                                                                                                                                               
      /* Decrement the nest level */                                                                                                                                                                                                                                
      if (qqqmcdcnest > 0)                                                                                                                                                                                                                                          
      {                                                                                                                                                                                                                                                             
        qqqmcdcnest--;                                                                                                                                                                                                                                              
        /* Check whether returned to within bounds */                                                                                                                                                                                                               
        if (qqqmcdcnest < QQQMCDCSTACKSIZE)                                                                                                                                                                                                                         
        {                                                                                                                                                                                                                                                           
          /* Reset the trace range start */                                                                                                                                                                                                                         
          paqqqmcdctrace = paqqqmcdctrace1;                                                                                                                                                                                                                         
          paqqqmcdctrace1 = qqqmcdcstack[qqqmcdcnest].mcdctrace;                                                                                                                                                                                                    
          /* Reset the start node */                                                                                                                                                                                                                                
          paqqqmcdcstr = qqqmcdcstack[qqqmcdcnest].mcdcstr;                                                                                                                                                                                                         
          /* Reset pointer to the entry to connect to */                                                                                                                                                                                                            
          qqqlastmcdc = qqqmcdcstack[qqqmcdcnest].lastmcdc;                                                                                                                                                                                                         
          /* Prevent reinitialisation */                                                                                                                                                                                                                            
          if (qqqlastmcdc == 0)                                                                                                                                                                                                                                     
          {                                                                                                                                                                                                                                                         
            qqqlastmcdc = -1;                                                                                                                                                                                                                                       
          }                                                                                                                                                                                                                                                         
          /* Ensure a continuation */                                                                                                                                                                                                                               
          QQQfirstmcdc = 0;                                                                                                                                                                                                                                         
          /* Ensure processable */                                                                                                                                                                                                                                  
          qqqmcdcsuppress = 0;                                                                                                                                                                                                                                      
        }                                                                                                                                                                                                                                                           
      }                                                                                                                                                                                                                                                             
    }                                                                                                                                                                                                                                                               
    return a;                                                                                                                                                                                                                                                       
  } /*  end of zzdo17 */                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                                    
  /* ----------------------------------------------------------------------* 359 *                                                                                                                                                                                  
   *            swzzqqzz                                                                                                                                                                                                                                            
   *  The purpose of this routine is to handle empty cases in switch statements                                                                                                                                                                                     
   * -----------------------------------------------------------------------------                                                                                                                                                                                  
   */                                                                                                                                                                                                                                                               
  static int swzzqqzz(int qqqi, int onoff)                                                                                                                                                                                                                          
  {                                                                                                                                                                                                                                                                 
  if ( qqqzzglobflag == 1 || onoff == 1)                                                                                                                                                                                                                            
  {                                                                                                                                                                                                                                                                 
    if ( main_50zzopen != 1 )                                                                                                                                                                                                                                       
    {                                                                                                                                                                                                                                                               
      main_50zqqzqz1();                                                                                                                                                                                                                                             
    }                                                                                                                                                                                                                                                               
    if ( main_50zzopen )                                                                                                                                                                                                                                            
    {                                                                                                                                                                                                                                                               
      if ( qqqi > 0 )                                                                                                                                                                                                                                               
      {                                                                                                                                                                                                                                                             
        bitmaparr[((qqqi-1) >> 3)] |= (1<<((qqqi-1) & 0x07));                                                                                                                                                                                                       
      }                                                                                                                                                                                                                                                             
    }                                                                                                                                                                                                                                                               
    if ( qqqzzglobflag == 1 )                                                                                                                                                                                                                                       
    {                                                                                                                                                                                                                                                               
      qqqzzglobflag = 0;                                                                                                                                                                                                                                            
    }                                                                                                                                                                                                                                                               
    else                                                                                                                                                                                                                                                            
    {                                                                                                                                                                                                                                                               
      qqqzzglobflag = 1;                                                                                                                                                                                                                                            
    }                                                                                                                                                                                                                                                               
  }                                                                                                                                                                                                                                                                 
    return(1);                                                                                                                                                                                                                                                      
  } /* end of swzzqqzz */                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                                    
/* END OF TESTBED INSTRUMENTATION */                                                                                                                                                                                                                                
 
